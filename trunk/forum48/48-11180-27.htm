<!doctype html>
<meta charset="utf-8">
<title>Перевод Spyro 3: Взлом и программы - Страница 27 - Форум Spyro Realms</title>
<!--
<link type="text/css" rel="StyleSheet" href="/_st/my.css" />
-->
<link type="text/css" rel="StyleSheet" href="http://www.spyro-realms.com/forum.css?3" />
<link rel="alternate" type="application/rss+xml" title="rss" href="http://www.spyro-realms.com/forum/48-0-0-37" />
<script type="text/javascript"> 
 (function() { 
 var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; 
 po.src = 'http://button.uploadpics.ru/v1/js/upload.js'; 
 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s); 
 })(); 
 </script>
 <link type="text/css" rel="StyleSheet" href="http://s11.ucoz.net/src/base.css" />
<link type="text/css" rel="StyleSheet" href="http://s11.ucoz.net/src/layer5.css" />
<script type="text/javascript" src="http://s11.ucoz.net/src/jquery-1.7.2.js"></script>
<script type="text/javascript">window.ulb = {photoPage: "Перейти на страницу с фотографией.",closeBtn: "Закрыть", error: "Запрошенный контент не может быть загружен. Пожалуйста, попробуйте позже.", next: "Вперед", prev: "Предыдущий", btnPlay: "Начать слайдшоу", btnToggle: "Изменить размер"}</script>
<link href="http://s11.ucoz.net/src/ulightbox/ulightbox.css" rel="stylesheet" type="text/css" /><script type="text/javascript" src="http://s11.ucoz.net/src/ulightbox/ulightbox.js"></script>
<script type="text/javascript" src="http://s11.ucoz.net/src/uwnd.js?2"></script><style type="text/css">.UhideBlock {display:none}</style><script type="text/javascript">new Image().src = "http://counter.yadro.ru/hit;noadsru?r"+escape(document.referrer)+((typeof(screen)=="undefined")?"":";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+";"+Math.random();</script>
</head>

<body>

<!-- Header -->

<div class="header">
 <div class="datedetails">
 <span>Четверг | 30.04.2015 |21:37</span>
 </div>
 <div class="groupdetails">
 <span>Приветствую Вас <b>Гость Мира Спайро</b> | <a href="http://www.spyro-realms.com/forum/48-0-0-37" class="rss">RSS</a> </span>
 </div>
 <ul class="siteoptions">
 <li class="button_home"><a href="http://www.spyro-realms.com/" title="Главная">Главная</a></li>
 
 <li class="button_reg"><a href="/index/3" title="Регистрация">Регистрация</a></li>
 <li class="button_in"><a href="javascript://" rel="nofollow" onclick="new _uWnd('LF',' ',-250,-110,{autosize:0,closeonesc:1,resize:1},{url:'/index/40'});return false;" title="Вход">Вход</a></li>
 
 </ul>
 <form class="searchform" action="/search/" method="get" onsubmit="this.sfSbm.disabled=true"><input type="text" class="queryField" size="20" maxlength="30" name="q"><input type="submit" value="Найти" name="sfSbm" class="searchSbmFl"></form>
 </div>
<!-- /header -->
 <ul id="topmenu">
 
<li><a href="http://www.spyro-realms.com/faq/" rel="nofollow">FAQ</a></li>
<li><a href="http://www.spyro-realms.com/forum/0-0-1-35" rel="nofollow">Жители Города</a></li>
<li><a href="http://www.spyro-realms.com/forum/0-0-0-36" rel="nofollow">Правила форума</a></li> 
<li><a href="http://www.spyro-realms.com/forum/0-0-1-34" rel="nofollow">Новые сообщения</a></li>
<li><a href="http://www.spyro-realms.com/forum/0-0-0-6" rel="nofollow">Поиск</a></li>
 </ul>

 <div id="forumwlc">
 <!--Здравствуйте! Если вы первый раз пришли сюда, зайдите в тему <a href="http://www.spyro-realms.com/forum/20-7-1">Знакомство</a>; в <a href="http://www.spyro-realms.com/forum/19-378-1">Вопросах и ответах</a> можно выяснить то, что не удалось найти в остальных темах. Ну, и <a href="http://www.spyro-realms.com/forum/22">в нашей ролевой</a> можно отлично провести время после регистрации И да, прежде чем задавать вопросы, пройдитесь по <a href="http://www.spyro-realms.com/faq/">FAQ</a> и другим темам - вдруг там уже есть ответ на ваш вопрос. Добро пожаловать! -->
 Знаешь английский язык? Или просто любишь читать тексты и находить в них ошибки? А может быть ты программист? Или ты просто любишь хорошие локализации игр? <br> Если да, то помоги <a href="http://www.spyro-realms.com/forum/11-11180-0-17-1">фанатскому переводу игры <strong>Spyro: Year of the Dragon</strong></a>. 
 </div><br>
 <div id="forumbody"><script type="text/javascript">
function Insert(qmid,user,text){user = user.replace(/\[/g,'\\[').replace(/\]/g,'\\]'); if (text!=""){ qmid=qmid.replace(/[^0-9]/g, "");  paste("[quote="+user+";"+qmid+"]"+text+"[/quote]\n", 0);} else {_uWnd.alert('Выделите текст для цитирования','',{w:230,h:80,tm:3000});}} function paste(text,flag){if ((document.selection)&&(flag)) {document.addform.message.focus();document.addform.document.selection.createRange().text = text;} else document.addform.message.value += text;}function get_selection() {if (window.getSelection){selection = window.getSelection().toString();}else if (document.getSelection) {selection = document.getSelection();}else {selection = document.selection.createRange().text;}}function pdel(id){if(confirm('Вы подтверждаете удаление?')){var img=document.getElementById('dbo'+id);img.width='13';img.height='13';img.src = 'http://s11.ucoz.net/img/ma/m/i2.gif';_uPostForm('',{url:'http'+'://www.spyro-realms.com/forum/48-11180-'+id+'-8-0-770137561727041373554'});}}</script>



<table border="0" width="100%" cellspacing="0" cellpadding="0">
<tr>
<td width="50%"><table class="switches" border="0" cellspacing="1" cellpadding="2"><tr><td class="pagesInfo" style="padding-right:7px;">Страница <span class="curPage">27</span> из <span class="numPages">36</span></td><td class="switch" align="center"><a class="switchBack" href="http://www.spyro-realms.com/forum/48-11180-26" title="Предыдущая">&laquo;</a></td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-1">1</a></td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-2">2</a></td><td class="switch" align="center">&#133;</td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-25">25</a></td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-26">26</a></td><td class="switchActive" align="center">27</td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-28">28</a></td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-29">29</a></td><td class="switch" align="center">&#133;</td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-35">35</a></td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-36">36</a></td><td class="switch" align="center"><a class="switchNext" href="http://www.spyro-realms.com/forum/48-11180-28" title="Следующая">&raquo;</a></td></tr></table></td>
<td align="right" class="frmBtns"><div id="frmButns83"><a href="javascript://" rel="nofollow" onclick="_uWnd.alert('Необходима авторизация для данного действия. Войдите или зарегистрируйтесь.','',{w:230,h:80,tm:3000});return false;"><img alt="" style="margin:0;padding:0;border:0;" title="Ответить" src="http://www.spyro-realms.com/buttons/t_reply.gif" /></a> <a href="javascript://" rel="nofollow" onclick="_uWnd.alert('Необходима авторизация для данного действия. Войдите или зарегистрируйтесь.','',{w:230,h:80,tm:3000});return false;"><img alt="" style="margin:0;padding:0;border:0;" title="Новая тема" src="http://www.spyro-realms.com/buttons/t_new.gif" /></a> <a href="javascript://" rel="nofollow" onclick="_uWnd.alert('Необходима авторизация для данного действия. Войдите или зарегистрируйтесь.','',{w:230,h:80,tm:3000});return false;"><img alt="" style="margin:0;padding:0;border:0;" title="Новый опрос" src="http://www.spyro-realms.com/buttons/t_poll.gif" /></a></div></td>
</tr>
<tr><td class="forumModerBlock">Модератор форума: <a class="forumModer" href="http://www.spyro-realms.com/index/8-0-nonun" target="_blank">nonun</a>, <a class="forumModer" href="http://www.spyro-realms.com/index/8-0-nihonjin" target="_blank">nihonjin</a>, <a class="forumModer" href="http://www.spyro-realms.com/index/8-0-%D0%A2%D0%BE%D0%BC%D0%B0%D1%81" target="_blank">Томас</a>, <a class="forumModer" href="http://www.spyro-realms.com/index/8-0-alteya" target="_blank">alteya</a></td><td>&nbsp;</td></tr>
</table>
<table border="0" width="100%" cellspacing="0" cellpadding="0"><tr><td class="forumNamesBar" style="padding-top:3px;padding-bottom:5px;"><a class="forumBar" href="http://www.spyro-realms.com/forum/">Форум Spyro Realms</a> &raquo; <a class="forumBar" href="http://www.spyro-realms.com/forum/14">Не о Спайро</a> &raquo; <a class="forumBar" href="http://www.spyro-realms.com/forum/48">Союз крылатых переводчиков</a> &raquo; <a class="forumBarA" href="http://www.spyro-realms.com/forum/48-11180-1">Перевод Spyro 3: Взлом и программы</a> <span class="thDescr">(Обсужедния взлома игра, программ и прочих проблем)</span></td><td width="218px"><script>
function check_search(s){
	if($(s).find('input[type="text"]').val().length< 3){
		_uWnd.alert('Вы ввели слишком короткий поисковой запрос.','',{w:230,h:80,tm:3000})
		return;
	}
	$(s).submit();
}
</script>
<form id="thread_search_form" onsubmit="check_search(this);return false;" action="http://www.spyro-realms.com/forum/48-11180" method="GET"><input class="fastNav" type="submit" value="Ok" id="thread_search_button"><input type="text" name="s" value="" placeholder="Поиск по теме" id="thread_search_field"/></form></td></tr></table>

<div class="gDivLeft"><div class="gDivRight"><table class="gTable" border="0" width="100%" cellspacing="1" cellpadding="0"><tr><td class="gTableTop"><div style="float:right" class="gTopCornerRight"></div>Перевод Spyro 3: Взлом и программы</td></tr><tr id="post124565"><td class="postFirst"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]aleksusklim[/b],');return false;">aleksusklim</a></td><td class="postTdTop">-----========Сообщение # <a name="124565" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-124565-16-1309083580');return false;">1</a> Воскресенье, 26.06.2011, 14:19</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="aleksusklim" class="userAvatar" border="0" src="http://klimaleksus.narod.ru/Files/M/aleksusklim.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Мудрый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Редактор" /> Редактор</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank8.gif" title="Ранг 8" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">611</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-2177'});return false;" title="Список наград"><span class="repNums">2</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-2177'});return false;"> 830 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-124565" edit-url="">Работа с текстовой частью перевода введётся на <a class="link" href="/go?http://code.google.com/p/spyro3-rus/" title="http://code.google.com/p/spyro3-rus/" rel="nofollow" target="_blank">code.google.com/p/spyro3-rus</a>, обсуждение перевода (а не взлома) В теме<a class="link" href="http://www.spyro-realms.com/forum/48-11436-1" rel="nofollow" target="_blank">Перевод Spyro 3: Текст</a> <br /> В этой теме происходит обсуждение перевода, а также создание софта для потрошения игры. <br /> <b>Важные сообщения:</b> <a class="link" href="http://www.spyro-realms.com/forum/48-11180-125779-16-1310303082" rel="nofollow" target="_blank">Структура WAD-файлов</a> <a class="link" href="http://www.spyro-realms.com/forum/48-11180-125960-16-1310588543" rel="nofollow" target="_blank">Спец. символы и File Paint 1</a> &#124; <a class="link" href="http://www.spyro-realms.com/forum/48-11180-126588-16-1311454320" rel="nofollow" target="_blank">Извлечение и добавление текста</a> &#124; <a class="link" href="http://www.spyro-realms.com/forum/48-11180-127606-16-1312829263" rel="nofollow" target="_blank">О звуке</a> &#124; <a class="link" href="http://www.spyro-realms.com/forum/48-11180-127638-16-1312896079" rel="nofollow" target="_blank">В продолжение о звуке</a> &#124; <a class="link" href="http://www.spyro-realms.com/forum/48-11180-128009-16-1313352673" rel="nofollow" target="_blank">Вариант перевода Buzz&#39;s Dungeon и Midday Gardens</a></span>


<br><br><div class="edited">Сообщение отредактировал <span class="editedBy">aleksusklim</span> - <span class="editedTime">Среда, 29.04.2015, 19:51</span></div></td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-2177" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>  <a href="javascript://" rel="nofollow" onclick="window.top.location.href='mai'+'lto:'+'ale'+'ksusk'+'lim@gmail.com';return false;"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_email.gif" title="E-mail адрес" /></a>  </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post178658"><td class="postRest2"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]DrWho[/b],');return false;">DrWho</a></td><td class="postTdTop">-----========Сообщение # <a name="178658" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-178658-16-1368983374');return false;">391</a> Воскресенье, 19.05.2013, 21:09</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="DrWho" class="userAvatar" border="0" src="http://www.spyro-realms.com/avatar/13/942189.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Мудрый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Почетный Житель" /> Почетный Житель</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank8.gif" title="Ранг 8" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">673</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-3098'});return false;" title="Список наград"><span class="repNums">1</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-3098'});return false;"> 1292 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-178658" edit-url=""><!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->nihonjin<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Нет-нет, файлы(а вернее доступ к ним) у меня пропали ещё до этого. Нажав «войти» я смог создать новый сайт(или перевезти старый) и начать восстанавливать файлы, т.е. ни одну ссылку на форуме я не трогал.<!--/uzq--></div></div><!--/uzquote--> <br /> Ради безопасности лучше всего заливать в нескольких местах. А то вдруг удалят/переедет сайт - и потом все, потеряно выложенное.</span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView"><a class="link" href="http://eu.playstation.com/psn/profile/DrWho123456/" rel="nofollow" target="_blank"> <img src="http://mypsn.eu.playstation.com/psn/profile/DrWho123456.png" border="0" alt=""/></a></span>
<br><br><div class="edited">Сообщение отредактировал <span class="editedBy">DrWho</span> - <span class="editedTime">Воскресенье, 19.05.2013, 21:09</span></div></td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-3098" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>    </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post178687"><td class="postRest1"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]aleksusklim[/b],');return false;">aleksusklim</a></td><td class="postTdTop">-----========Сообщение # <a name="178687" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-178687-16-1369061539');return false;">392</a> Понедельник, 20.05.2013, 18:52</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="aleksusklim" class="userAvatar" border="0" src="http://klimaleksus.narod.ru/Files/M/aleksusklim.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Мудрый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Редактор" /> Редактор</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank8.gif" title="Ранг 8" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">611</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-2177'});return false;" title="Список наград"><span class="repNums">2</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-2177'});return false;"> 830 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-178687" edit-url=""><!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->aleksusklim<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Короче, теперь всё чётко извлекается, даже без разрывов или сдвигов: <br /> <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/PABCDistr.zip" title="http://klimaleksus2.ucoz.ru/Files/PABCDistr.zip" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/PABCDistr.zip</a> <br /><br /> Проверять удобнее всего через Picture Viewer, для него всё ещё нужен PascalABC: <br /> <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/2/strip.png" title="http://klimaleksus2.ucoz.ru/Files/2/strip.png" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/2/strip.png</a> <!--/uzq--></div></div><!--/uzquote--> <br /><br /> Забавно, перепутал ссылки… <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->А ничего, что это перевод от Вектора, не?<!--/uzq--></div></div><!--/uzquote--> <br /><br /> Какая разница? Главное что EXE не пропатченный и совпадает с тем, который патчили вплоть до байтов переведённого текста. <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Я вроде бы приложил ссылку на YouTube, где есть обходной вариант этой проблемы. Сейчас ссылки копирну, те, что скопировал сюда steeldragon.<!--/uzq--></div></div><!--/uzquote--> <br /><br /> Ага, конечно. Но во-первых, это ссылка на .exe, в то время как выложен был другой файл, во-вторых доменное имя не соответствует самому файлообменнику (не официальная программка), а в-третьих я никогда не доверяю сторонним программам для закачки, да и вообще любым мини-качалкам. Никогда. <br /> Это банальное доверие к источнику. Могу даже продемонстрировать: <br /> <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/S/believe.exe" title="http://klimaleksus2.ucoz.ru/Files/S/believe.exe" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/S/believe.exe</a> <br /> (афигеть… Вот видите, как даже uCoz относится к прямым ссылкам на .exe! Но не бойтесь, я могу даже код показать, если что…) <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Ну RipBin&#39;ом я не пользовался, но - если принцип использования программы такой же, то, мне кажется, нет необходимости (для меня) в этой программе.<!--/uzq--></div></div><!--/uzquote--> <br /><br /> Всё равно рано или поздно понадобится. <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Без понятия, в так глубоко я еще не умею копать. Если есть аккаунт на rutracker&#39;e, то можно его спросить по этому поводу.<!--/uzq--></div></div><!--/uzquote--> <br /><br /> Да пусть хоть инструменты перечислит, там же явно что-то большее, чем WinHex. Дизассемблер хоть был? <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Вообще, brill нашел способ обойти защиту, но - конвертировать представленный образ нельзя. Никак. Нужно его записать Алкоголем или через CloneCD. То есть если хочется представленный образ переконвертировать для запуска, к примеру, на эмуляторе PS2PSXe - фигушки. Тут уже надо фиксить Libcrypt.<!--/uzq--></div></div><!--/uzquote--> <br /><br /> Вот именно, следует снять защиту полностью, чтобы игра либо даже не читала субканал, либо принимала его отсутствие как успешную проверку на оригинальность диска. <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Сами же и ответьте на этот вопрос. Не вижу смысла использовать GH&#39;ный SYSTEM.CNF, если таким же образом можно его использовать и из обычной версии.<!--/uzq--></div></div><!--/uzquote--> <br /><br /> Да у меня только ДВЕ версии игры, угадайте какие… <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Именно. Только весь прикол в том, что со вторым вариантом будут крестики вместо этого символа, когда Спайро сядет на транспорт. Второй вариант годится только для Миров животных. Первый же - для боссов.<!--/uzq--></div></div><!--/uzquote--> <br /><br /> Надо просто посмотреть код символа апострофа в оригинале, а не гадать на авось. <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Черный экран? Интересно.<!--/uzq--></div></div><!--/uzquote--> <br /><br /> Нет же, просто зависание. Возможно повторение звуков или повреждение модельки дракона. <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Вот для сравнения: <br /> <a class="link" target="_blank" href="/go?http://floomby.ru/s1/aaDSP6/full/" title="http://floomby.ru/s1/aaDSP6/full/" rel="nofollow">http://floomby.ru/s1/aaDSP6/full/</a> - перенесенный результат. <br /> <a class="link" target="_blank" href="/go?http://floomby.ru/s1/KaDSXj/full/" title="http://floomby.ru/s1/KaDSXj/full/" rel="nofollow">http://floomby.ru/s1/KaDSXj/full/</a> - исходный результат.<!--/uzq--></div></div><!--/uzquote--> <br /><br /> О, всё понятно. Кстати, спасибо, что обратили на это внимание. <br /><br /> Игра центрует надписи! Для этого она подсчитывает количество символов. Поэтому даже если наш перевод будет длиннее (без разницы как мы его засунем…), он всё равно отцентруется. <br /> Но а если короче оригинала? Что делать? Пираты (как и я хотел) просто заполняли конец пробелами. <br /> Однако пробел считается за символ! И центровка произойдёт неправильно, сколько бы вы там не отсчитывали пробелов перед текстом. <br /> Единственный разумный выход – всегда заливать нули после последней буквы каждой фразы. <br /><br /> Нужно мне наконец уже начать создавать новую программу для внедрения нашего текста… <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Не спорю, но FireCross&#39;овцы - еще те лентяи. Перерисовать шрифт хорошо могут, а вот качественно работу проделать - нет. Да и озвучка у них не очень (я имею в виду мужскую).<!--/uzq--></div></div><!--/uzquote--> <br /><br /> Помню-помню. Кстати, выложу. Вслед за Платиновской, которую залью уже на днях (для MrModez) <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Кстати, объясните мне как правильно вшить этот патч в образ, чтобы он работал и на реальной консоли. Хочу на пс2 попробовать этот вихрь.<!--/uzq--></div></div><!--/uzquote--> <br /><br /> RipBin! Ставите патч, риппаете образ, вытаскиваете WAD, перепрожигаете через CdGenPS2, копируете .sectordata обратно и собираете BIN (который ISO) <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Действительно, виснет. А не могли бы вы попробовать вылечить образ от этих зависаний?<!--/uzq--></div></div><!--/uzquote--> <br /><br /> Уфф.. никчёмное дело, с этим даже вы справитесь… <br /> Нужен только WinHex и MemGet.</span>


</td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-2177" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>  <a href="javascript://" rel="nofollow" onclick="window.top.location.href='mai'+'lto:'+'ale'+'ksusk'+'lim@gmail.com';return false;"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_email.gif" title="E-mail адрес" /></a>  </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post178688"><td class="postRest2"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]DrWho[/b],');return false;">DrWho</a></td><td class="postTdTop">-----========Сообщение # <a name="178688" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-178688-16-1369068766');return false;">393</a> Понедельник, 20.05.2013, 20:52</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="DrWho" class="userAvatar" border="0" src="http://www.spyro-realms.com/avatar/13/942189.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Мудрый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Почетный Житель" /> Почетный Житель</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank8.gif" title="Ранг 8" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">673</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-3098'});return false;" title="Список наград"><span class="repNums">1</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-3098'});return false;"> 1292 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-178688" edit-url=""><!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->aleksusklim<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Но а если короче оригинала? Что делать? Пираты (как и я хотел) просто заполняли конец пробелами.<!--/uzq--></div></div><!--/uzquote--> <br /> Необязательно, Вектор как раз центрировали надпись, ставя пробелы не в конец перед многоточиями, а просто стараясь пробелы с обеих сторон ставить. Тогда надпись будет в центре. <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->aleksusklim<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->RipBin! Ставите патч, риппаете образ, вытаскиваете WAD, перепрожигаете через CdGenPS2, копируете .sectordata обратно и собираете BIN (который ISO)<!--/uzq--></div></div><!--/uzquote--> <br /> Ок, будем пробовать. <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->aleksusklim<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Уфф.. никчёмное дело, с этим даже вы справитесь… <br /> Нужен только WinHex и MemGet.<!--/uzq--></div></div><!--/uzquote--> <br /> Ну с этим я еще не знаю как справляться, просто если бы пираты опять налажали с апострофом, то тут да, можно было бы Хексом подправить и проверить. <br /> Просто эта версия уже на рутрекер и псхпланету залита, а хочется, чтобы этих 3х зависаний не было, чтобы можно было перезалить образ в обеих местах. Так хоть народ ничего не пишет о работоспособности образа, т.е. есть шанс поправить эти зависания, пока он не узнал. <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->aleksusklim<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->И центровка произойдёт неправильно, сколько бы вы там не отсчитывали пробелов перед текстом. <br /> Единственный разумный выход – всегда заливать нули после последней буквы каждой фразы.<!--/uzq--></div></div><!--/uzquote--> <br /> Главное структуру не нарушить, а то я один раз так сделал у меня надписи съехали в игре. <br /><br /> <b>Добавлено</b> (20.05.2013, 19:27) <br /> --------------------------------------------- <br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->aleksusklim<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Да у меня только ДВЕ версии игры, угадайте какие…<!--/uzq--></div></div><!--/uzquote--> <br /> GH, FireCross. Угадал? <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->aleksusklim<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Надо просто посмотреть код символа апострофа в оригинале, а не гадать на авось.<!--/uzq--></div></div><!--/uzquote--> <br /> Само собой. <br /><br /> <b>Добавлено</b> (20.05.2013, 20:52) <br /> --------------------------------------------- <br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->aleksusklim<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Да пусть хоть инструменты перечислит, там же явно что-то большее, чем WinHex. Дизассемблер хоть был?<!--/uzq--></div></div><!--/uzquote--> <br /> Его ответ: <br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->_brill_<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Я уже кажись писал что меня не волнует spyro realms. Больше не беспокой меня этим вопросом.<!--/uzq--></div></div><!--/uzquote--> <br /> Лишних неприятностей я не хочу, потому по таким вопросам его не буду беспокоить. Хотите - тревожьте его сами.</span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView"><a class="link" href="http://eu.playstation.com/psn/profile/DrWho123456/" rel="nofollow" target="_blank"> <img src="http://mypsn.eu.playstation.com/psn/profile/DrWho123456.png" border="0" alt=""/></a></span>
<br><br><div class="edited">Сообщение отредактировал <span class="editedBy">DrWho</span> - <span class="editedTime">Вторник, 28.05.2013, 19:07</span></div></td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-3098" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>    </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post178968"><td class="postRest1"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]misterio-3[/b],');return false;">misterio-3</a></td><td class="postTdTop">-----========Сообщение # <a name="178968" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-178968-16-1369753226');return false;">394</a> Вторник, 28.05.2013, 19:00</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="misterio-3" class="userAvatar" border="0" src="http://www.spyro-realms.com/avatar/23/030331.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Маленький Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_violet.gif" title="Житель Города" /> Житель Города</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank4.gif" title="Ранг 4" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">112</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-5371'});return false;" title="Список наград"><span class="repNums">0</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-5371'});return false;"> 215 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-178968" edit-url="">А если при переносе все данные пропадут что тогда ты будешь делать????</span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView">да я со всем согласен</span>
</td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-5371" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>   <img alt="" style="cursor:pointer;margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_www.gif" title="Домашняя страница" onclick="window.open('http://яндекс')" /> <img alt="" style="cursor:pointer;margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_icq.gif" title="ICQ: 79107291412" onclick="prompt('ICQ number','79107291412');" /></td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post178971"><td class="postRest2"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]DrWho[/b],');return false;">DrWho</a></td><td class="postTdTop">-----========Сообщение # <a name="178971" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-178971-16-1370293869');return false;">395</a> Вторник, 04.06.2013, 01:11</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="DrWho" class="userAvatar" border="0" src="http://www.spyro-realms.com/avatar/13/942189.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Мудрый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Почетный Житель" /> Почетный Житель</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank8.gif" title="Ранг 8" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">673</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-3098'});return false;" title="Список наград"><span class="repNums">1</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-3098'});return false;"> 1292 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-178971" edit-url=""><!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->misterio-3<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->А если при переносе все данные пропадут<!--/uzq--></div></div><!--/uzquote--> <br /> Ничего при переносе не пропадет. Если неправильно что-то подкорректировать в образе, можно нарушить структуру, что может в лучшем случае привести к смещению текста или глюкам, в худшем - неработоспособностью игры. Надо всегда полученный результат стараться сохранять как новый. <br /><br /> <b>Добавлено</b> (31.05.2013, 15:23) <br /> --------------------------------------------- <br /> Кстати, немного отойду от темы, но все равно спрошу: а кто-нибудь пробовал что-нибудь изменить в Crash Team Racing? Я это спросил к тому, что там WAD нету, есть BIG. Что я хотел сделать: Подкорректировать шрифты от Вектора. Зачем? Они хуже, чем у остальных. Сам перевод хороший получился, а вот шрифт не задался. Хотел у Парадокса его взять, только я структуру не знаю. <br /><br /> <b>Добавлено</b> (04.06.2013, 01:11) <br /> --------------------------------------------- <br /> Занялся сейчас переносом текста от Вектора, с шрифтом пока что только проблемы. <br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->steeldragon<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Шрифт вместе с большинством игровой графики хранится в первом субфайле, его можно изменить с помощью PGG2 .<!--/uzq--></div></div><!--/uzquote--> <br /> Простой подменой шрифт не поменялся - видно надо PGG2 пробовать. <br /> А еще у меня почему-то треск издавался 3 секунды, после того, как появилась табличка с названием разработчиком. Видно что-то задел, тупо перенеся первый суб-файл. Либо со вторым накосячил. <br /> Кстати, во втором суб-файле оказывается тоже есть текст. Причем, если к примеру через хекс редактор просто поменять текст, то тогда игра работает. А вот если тупо подменить второй файл - игра отказывается работать и эмулятор выдаст ошибку. Интересно, чего такого во 2й файл запихали кроме текста, раз обычной подменой игра перестает работать?</span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView"><a class="link" href="http://eu.playstation.com/psn/profile/DrWho123456/" rel="nofollow" target="_blank"> <img src="http://mypsn.eu.playstation.com/psn/profile/DrWho123456.png" border="0" alt=""/></a></span>
<br><br><div class="edited">Сообщение отредактировал <span class="editedBy">DrWho</span> - <span class="editedTime">Вторник, 04.06.2013, 01:25</span></div></td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-3098" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>    </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post179422"><td class="postRest1"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]steeldragon[/b],');return false;">steeldragon</a></td><td class="postTdTop">-----========Сообщение # <a name="179422" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-179422-16-1372325451');return false;">396</a> Четверг, 27.06.2013, 13:30</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="steeldragon" class="userAvatar" border="0" src="https://dl.dropboxusercontent.com/u/34707934/Games/etc/s3translation/avatars/5.png"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Взрослый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Редактор" /> Редактор</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank6.gif" title="Ранг 6" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">304</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-3244'});return false;" title="Список наград"><span class="repNums">0</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-3244'});return false;"> 293 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-179422" edit-url=""><!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Простой подменой шрифт не поменялся - видно надо PGG2 пробовать.<!--/uzq--></div></div><!--/uzquote--> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Интересно, чего такого во 2й файл запихали кроме текста, раз обычной подменой игра перестает работать?<!--/uzq--></div></div><!--/uzquote--> Во всех субфайлах хранится информация и помимо этой. (Окружение уровня, текстуры, и так далее. Подробнее: <a class="link" href="/go?http://spyro3-rus.googlecode.com/svn/trunk/encyclopedia/encyclopedia.htm" title="http://spyro3-rus.googlecode.com/svn/trunk/encyclopedia/encyclopedia.htm" rel="nofollow" target="_blank">Энциклопедия</a> - Структура субфайлов WAD). <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->DrWho<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Кстати, немного отойду от темы, но все равно спрошу: а кто-нибудь пробовал что-нибудь изменить в Crash Team Racing? Я это спросил к тому, что там WAD нету, есть BIG. Что я хотел сделать: Подкорректировать шрифты от Вектора.<!--/uzq--></div></div><!--/uzquote-->Шрифт где-то в начале файла. Прогони через конвертеры Any2pvv - Pvv2bmp, найди нужный кусок и замени (в DIB - тоже), потом - Bmp2pvv, Pvv2any. <br /> Эти конвертеры входят в комплект поставки обоих PGG. Инструкция отдельно (тут недалеко... относительно). <br /><br /> <b>Добавлено</b> (11.06.2013, 21:09) <br /> --------------------------------------------- <br /> Такс, набросал что-то вроде базового редактора переводов: <a class="link" href="/go?http://spyro3-rus.ucoz.ru/Editor/index.html" title="http://spyro3-rus.ucoz.ru/Editor/index.html" rel="nofollow" target="_blank">Ссылка</a> <br /> Пятьдесят процентов не работает, сорок процентов не готово, но уже что-то. <br /><br /> Также в процессе разработки у меня возник вопрос: Как сохранить файл обратно на сайт (конкретно - <a class="link" href="/go?http://spyro3-rus.ucoz.ru/" title="http://spyro3-rus.ucoz.ru/" rel="nofollow" target="_blank">на вот этот самый</a> Ucoz-овский)? Значит, страница отправляет запрос POST с информацией. А как научить сервер обрабатывать этот запрос (то есть принять данные и сохранить в положенное место)? <br /><br /> <b>Добавлено</b> (15.06.2013, 22:35) <br /> --------------------------------------------- <br /> <a class="link" target="_blank" href="/go?https://dl.dropboxusercontent.com/u/34707934/Games/etc/s3translation/menu2-s3.rar" title="https://dl.dropboxusercontent.com/u/34707934/Games/etc/s3translation/menu2-s3.rar" rel="nofollow">https://dl.dropboxusercontent.com/u....-s3.rar</a> <br /> Второй патч для меню. Заменяет лого Universal, табличку и шрифт. <br /> Для разнообразия, этот патч в формате PPF. Парадоксовский PPF-O-Matic в комплекте. <br /><br /> <b>Добавлено</b> (20.06.2013, 13:35) <br /> --------------------------------------------- <br /> И снова о 3Д моделях. <br /> В 001-ом субфайле всё же есть модель Спайро. Начинается почти сначала и заканчивается на смещении 14806. Конечно, для перевода эта модель ценности не имеет, но всё же... <br /> В конце модели хранятся данные о текстурах: 3 байта плюс разделитель. Над ними - 24 байта непонятно для чего. А дальше самое интересное. Над ними хранятся полигоны модели, по 19 байт (!) плюс разделитель. Идут от смещения 6188, если я прав, то их получается 295. <br /> Буду дальше расшифровывать... <br /><br /> <b>Добавлено</b> (27.06.2013, 13:30) <br /> --------------------------------------------- <br /> Второй день пишу конвертер моделей в OBJ. <br /> Пока что вот результат: <a class="link" target="_blank" href="/go?https://dl.dropboxusercontent.com/u/34707934/Games/etc/s3translation/S3M2OBJ.py" title="https://dl.dropboxusercontent.com/u/34707934/Games/etc/s3translation/S3M2OBJ.py" rel="nofollow">https://dl.dropboxusercontent.com/u....2OBJ.py</a> <br /><br /> Написана эта программа на Питоне 3.3*, соответственно, требует установленный Python: <a class="link" target="_blank" href="/go?http://python.org/ftp/python/3.3.2/python-3.3.2.msi" title="http://python.org/ftp/python/3.3.2/python-3.3.2.msi" rel="nofollow">http://python.org/ftp/python/3.3.2/python-3.3.2.msi</a> (установщик, 19 МБ) <br /><br /> Как пользоваться: <br /> - Запустить .py файл <br /> - Перетащить в окно нужную модель**, нажать Enter <br /> - Смотреть результат в папке программы, название файла &#39;output.obj&#39; <br /><br /> Сейчас конвертер работает, мягко говоря, плохо, у моделей после конвертирования не хватает полигонов, но я исправлю это... когда разберусь, в чём тут проблема. <br /> EDIT:Об-нов-ле-но! Теперь всё работает нормально. Скриншот: <a class="link" target="_blank" href="/go?https://dl.dropboxusercontent.com/u/34707934/Games/etc/s3translation/model.jpg" title="https://dl.dropboxusercontent.com/u/34707934/Games/etc/s3translation/model.jpg" rel="nofollow">https://dl.dropboxusercontent.com/u....del.jpg</a> <br /><br /> *Небольшое объяснение: Python - язык интерпретируемый, т.е. программа является одновременно и исходным кодом. <br /> ** В формате Spyro 1.</span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView">Может, пора изменить программу?... <br /> Главное - это правильная стратегия... <br /> Где-то есть последний островок свободы, где нет корпораций...</span>
<br><br><div class="edited">Сообщение отредактировал <span class="editedBy">steeldragon</span> - <span class="editedTime">Суббота, 29.06.2013, 17:02</span></div></td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-3244" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>    </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post181001"><td class="postRest2"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]nihonjin[/b],');return false;">nihonjin</a></td><td class="postTdTop">-----========Сообщение # <a name="181001" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-181001-16-1372685452');return false;">397</a> Понедельник, 01.07.2013, 17:30</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="nihonjin" class="userAvatar" border="0" src="http://www.spyro-realms.com/avatar/43/388222.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Дракон Подросток</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Редактор" /> Редактор</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank5.gif" title="Ранг 5" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">198</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-3126'});return false;" title="Список наград"><span class="repNums">1</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-3126'});return false;"> 244 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-181001" edit-url=""><!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->steeldragon<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->В 001-ом субфайле всё же есть модель Спайро.<!--/uzq--></div></div><!--/uzquote--> <br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->steeldragon<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Над ними хранятся полигоны модели .... их получается 295.<!--/uzq--></div></div><!--/uzquote--> <br /> А знаете, действительно, ведь первые субфайлы в Spyro2 и Spyro3 очень похожи на 022 и 095 из первой части(яп) в которых и содержатся модели. Так что, думаю, вы идёте в правильном направлении! <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->steeldragon<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Второй патч для меню.<!--/uzq--></div></div><!--/uzquote--> <br /> В своей теме я уже упоминал, что надо бы создать для Spyro3 в вики на ГуглКоде страницу, скажем "Process", где отражать прогресс проекта. Пока что я побаиваюсь это делать и поэтому представлю исхищрённый вариант предпросмотра: <br /> <a class="link" target="_blank" href="/go?http://nihonjinryuu.narod.ru/himitsu/process-pre.htm" title="http://nihonjinryuu.narod.ru/himitsu/process-pre.htm" rel="nofollow">http://nihonjinryuu.narod.ru/himitsu/process-pre.htm</a> <br /> Хм... видимо для Spyro3 такая страница менее актуальна, чем для 1? Так стоит ли её тогда создавать и если да то может нужно сделать картинки ссылками? <br /><br /> <i>steeldragon</i>, я пока не пойму, с теми наработками-программами, что вы уже составили можно только извлекать/редактировать модели или ещё и внедрять изменённые в игру? <br /> ~~~~~ <br /> Я сам нет-нет да поковыряюсь в 3й части. В этот раз я решил проверить одну теорию, касающуюся 181 и 182 субфайлов. Вот как они выглядят в PVV: <br /> <a class="link" target="_blank" href="/go?http://nihonjinryuu.narod.ru/pvv/subfile181.png" title="http://nihonjinryuu.narod.ru/pvv/subfile181.png" rel="nofollow">http://nihonjinryuu.narod.ru/pvv/subfile181.png</a> <br /> Не правда ли подозрительно, особенно, если учитывать ещё и то, что рядом расположен субфайл с обложкой атласа? <br /> Короче, чтобы разобраться я использовал TileMolester с его &#39;обширными&#39; возможностями по просмотру графики. Покрутил настройки и получил, для 181: <br /> <a class="link" target="_blank" href="/go?http://nihonjinryuu.narod.ru/tilemolester/atlas1.png" title="http://nihonjinryuu.narod.ru/tilemolester/atlas1.png" rel="nofollow">http://nihonjinryuu.narod.ru/tilemolester/atlas1.png</a> <br /> <a class="link" target="_blank" href="/go?http://nihonjinryuu.narod.ru/tilemolester/atlas2.png" title="http://nihonjinryuu.narod.ru/tilemolester/atlas2.png" rel="nofollow">http://nihonjinryuu.narod.ru/tilemolester/atlas2.png</a> <br /> Для 182: <br /> <a class="link" target="_blank" href="/go?http://nihonjinryuu.narod.ru/tilemolester/epiloge1.png" title="http://nihonjinryuu.narod.ru/tilemolester/epiloge1.png" rel="nofollow">http://nihonjinryuu.narod.ru/tilemolester/epiloge1.png</a> <br /> <a class="link" target="_blank" href="/go?http://nihonjinryuu.narod.ru/tilemolester/epiloge2.png" title="http://nihonjinryuu.narod.ru/tilemolester/epiloge2.png" rel="nofollow">http://nihonjinryuu.narod.ru/tilemolester/epiloge2.png</a> <br /> Считайте это доказательством того, что 181 это атлас, а 182- эпилог. Осталось только починить палитру...</span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView"><img src="http://nihonjinryuu.narod.ru/himitsu/orb2.png" border="0" alt=""/> <br /> ①Прогресс перевода и взлома японской версии Spyro 1 смотрите в <a class="link" href="http://www.spyro-realms.com/forum/48-11461-153938-16-1337281453" rel="nofollow" target="_blank">«плавающем сообщении»</a> и его <a class="link" href="http://nihonjinryuu.narod.ru/index/kumo/0-9" rel="nofollow" target="_blank">дубле</a>. <br /> ②Сводки по Spyro 2! <a class="link" href="http://nihonjinryuu.narod.ru/Spyro2/gaikatsu.html" rel="nofollow" target="_blank">http://nihonjinryuu.narod.ru/Spyro2/gaikatsu.html</a>. <br /> ③Кратко о прогрессе перевода и взлома Spyro 3GH в <a class="link" href="http://www.spyro-realms.com/forum/48-11180-167110-16-1351774478" rel="nofollow" target="_blank">«сообщении №258»</a>, а сборки перевода найдёте в <a class="link" href="http://www.spyro-realms.com/forum/48-11436-35#191074" rel="nofollow" target="_blank">«сообщении №512»</a>. <br /> ④Проект перевода в vk - <a class="link" href="http://vk.com/spyro3rus" rel="nofollow" target="_blank">«spyro3rus»</a>. <br /> ◯<a class="link" href="http://ru.spyro.wikia.com/wiki/Спайро_вики" rel="nofollow" target="_blank">~Русская wiki по Спайро~</a>.</span>
</td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-3126" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>   <img alt="" style="cursor:pointer;margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_www.gif" title="Домашняя страница" onclick="window.open('http://nihonjinryuu.narod.ru/')" /> <img alt="" style="cursor:pointer;margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_icq.gif" title="ICQ: 669621445" onclick="prompt('ICQ number','669621445');" /></td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post181003"><td class="postRest1"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]steeldragon[/b],');return false;">steeldragon</a></td><td class="postTdTop">-----========Сообщение # <a name="181003" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-181003-16-1372687962');return false;">398</a> Понедельник, 01.07.2013, 18:12</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="steeldragon" class="userAvatar" border="0" src="https://dl.dropboxusercontent.com/u/34707934/Games/etc/s3translation/avatars/5.png"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Взрослый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Редактор" /> Редактор</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank6.gif" title="Ранг 6" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">304</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-3244'});return false;" title="Список наград"><span class="repNums">0</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-3244'});return false;"> 293 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-181003" edit-url=""><!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->nihonjin<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->steeldragon, я пока не пойму, с теми наработками-программами, что вы уже составили можно только извлекать/редактировать модели или ещё и внедрять изменённые в игру?<!--/uzq--></div></div><!--/uzquote--> Внедрять можно изменённые VertexEditor-ом, только вручную.  <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->nihonjin<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->А знаете, действительно, ведь первые субфайлы в Spyro2 и Spyro3 очень похожи на 022 и 095 из первой части(яп) в которых и содержатся модели. Так что, думаю, вы идёте в правильном направлении!<!--/uzq--></div></div><!--/uzquote--> Еще в 009 хранится модель Спайро из главного меню (да, их две). Эх, докопаться бы до моделей букв... <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->nihonjin<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Хм... видимо для Spyro3 такая страница менее актуальна, чем для 1?<!--/uzq--></div></div><!--/uzquote-->Вполне может быть. <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->nihonjin<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Так стоит ли её тогда создавать и если да то может нужно сделать картинки ссылками?<!--/uzq--></div></div><!--/uzquote-->Создавать стоит (наработок много, просто не вставлены в игру), картинки да, лучше ссылками. <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->nihonjin<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Считайте это доказательством того, что 181 это атлас, а 182- эпилог.<!--/uzq--></div></div><!--/uzquote-->Интересненько...</span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView">Может, пора изменить программу?... <br /> Главное - это правильная стратегия... <br /> Где-то есть последний островок свободы, где нет корпораций...</span>
</td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-3244" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>    </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post181375"><td class="postRest2"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]aleksusklim[/b],');return false;">aleksusklim</a></td><td class="postTdTop">-----========Сообщение # <a name="181375" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-181375-16-1373209058');return false;">399</a> Воскресенье, 07.07.2013, 18:57</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="aleksusklim" class="userAvatar" border="0" src="http://klimaleksus.narod.ru/Files/M/aleksusklim.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Мудрый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Редактор" /> Редактор</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank8.gif" title="Ранг 8" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">611</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-2177'});return false;" title="Список наград"><span class="repNums">2</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-2177'});return false;"> 830 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-181375" edit-url="">Да! Я провёл огромнейший взлом игры, и теперь мы можем: <br /><br /> – Извлечь ВЕСЬ текст из игры разом; <br /> – Однозначно получить Numeration-сопоставление каждой строки конкретному STR-треку в автоматическом режиме; <br /> – Заменить звуковой трек любой реплики на любой другой существующий трек (например, большей длительности) <br /><br /> Качайте проги: <br /> <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/2/MegaTextRip.rar" title="http://klimaleksus2.ucoz.ru/Files/2/MegaTextRip.rar" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/2/MegaTextRip.rar</a> <br /><br /> Началось всё с того, что я решил найти наконец нормальный метод экстракции текста из уровней. Именно по «указателям» или ссылкам. А не просто парсить весь файл как неструктурированную свалку двоичного мусора. <br /><br /> Со времён Вихря я помню, как устроены четвёртые суб-субфайлы, а также оставшиеся подуровни (шестой, восьмой, десятый…) <br /> В самом конце – лист ссылок на экземпляры объектов. В каждом субфайле ссылки локальные, то есть дампить совсем не требуется, чтобы узнать, куда они ведут. <br /><br /> Итак, список ссылок, и все они указывают в этот же файл. <br /> Некоторые из них в «верхнюю» область, где виртуально размечаются блоки по 88 байт – полные начальные описания живых игровых объектов – их координаты, поворот, масштаб, анимация. Естественно тип и вид, некоторые дополнительные данные, которые уже зависят от самого рода объекта – разумно полагать, что персонаж с текстом должен значительно отличаться от простой бочки с алмазом. <br /><br /> Первые четыре из этих 88-ми байтов – прямой указатель. На некоторые дополнительные данные, которыми владеет этот экземпляр объекта. И вот их структура и тип уже конкретно сильно повязаны на роде объекта – тогда я сравнивал яйцо и Вихрь – последний хранил там свою толщину, высоту и позицию камеры, а яйцо описывало номер дракончика, который из него вылупляется. И данные эти занимают разные недетерминированный объём, который игра определяет, исходя из рода объекта. То есть его тип должен быть известен ещё по 88-ми основным байтам. <br /> И да, те прошлогодние исследования показали, что меня некий индекс в допустимых пределах можно превращать одни типы предметов в другие. <br /><br /> И всё бы оказалось очень просто, если бы абсолютно все ссылки из листа в конце вели строго на 88-ми байтовые блоки. Но ведь нет! Некоторые ведут не в верхушку, а в середину файла (где есть уже текст). Они тоже что-то показывают, но доподлинно лишь определено, что и там первые четыре байта – новый указатель на «что-то». И зачастую этими четырьмя байтами и оканчивается весь блок, ибо следующий из листа указывает на последующие же четыре байта, которые представляют собой ещё один указатель на «что-то другое». <br /><br /> Из этого следует, что игра различает 88 / ? / 4 блоки ещё до того, как перейдёт к ним. Либо по сличению адреса (блоки 88 располагаются значительно выше всего остального, причём «пустое пространство» в игре размечается на новые динамические 88-блоки…), либо каким-то другим флажком или списком, действующим не из листа (или есть закономерность, как зная тип всех предыдущий указателей, определить тип очередного). В любом случае, я пока не разгадал эту тайну, и «взлом» сводился к тому, чтобы научиться косвенно разделять указатели на истинно объектные «88» и всё остальное. <br /><br /> На самом деле меня волнуют не сами объекты, а лишь их дополнительные переменные, на которые указывают первые четыре байта (в файле, как я уже сказал, ссылки локальны, а уже в игре они заменяются на полные с «800хххххh»). <br /><br /> Основное наблюдение: все «говорящие» предметы – объекты 88. Ссылки ведут на область из восьми байт, после которых ВСЕГДА следует флаг «FF000000». А строго за ним располагается ссылка на ИМЯ этого персонажа. <br /><br /> Имя – просто текстовая строка с нулём на конце. И сама она идет немного ниже. После ссылки на имя расположенные четырёхбайтные ссылки на все его реплики. Чем последовательность ссылок заканчивается мне не совсем понятно, но можно проверять на нуль или на выход за границы файла, а также на неадекватность результирующей строки, но надо быть осторожным, ибо слишком суровое условие типа «char&lt;32» может смести несколько экзотических строчек, но зато «char>127» работает всегда! <br /><br /> Кстати, строка «реплики» текста – совсем не такая простая, как имя персонажа. Выяснено наблюдениями: первый байт ВСЕГДА показывает, сколько начальных байт «лишних» включая его самого. Самый тривиальный случай: «01ssssss…», где «ss» – байты от строки. Возможны варианты вроде «022Assss…» или «032302ss…» – ну смысл ясен. Непонятно, чему максимально может равняться это число. Были и громадные «яяяя» типа «0901FFFFFFFFFFFFFFsssss…», так что рисково проверять «имя/реплика» через «char[0]&lt;32». Фраза оканчивается нулём как обычная строка. <br /><br /> Что будет, если первый байт «00h» – не знаю, но ничего хорошего. Чтобы показать «пустую» строку используется «01000000h». Бывает и с флагом «FF000000h», это тоже надо отлавливать (а не прыгать чрез 254 символа вперёд…) <br /><br /> Я проводил эксперименты над байтами между первым (длина мусора) и начальным от строки – выяснил, что какая-то часть отвечает за позицию камеры при разговоре с персонажем на этой реплике. Можно было заставить её повернуться вообще в другую строну! Но большинство изменений игра не переживала, падая или зависая. Иногда портилась структура диалога, особенно вручение яиц или «(треугольник) TO TALK» – фразы путались, менялись местами или постоянно произносилась одна и та же. <br /><br /> Ну примерно понятно, там хранится поведение объекта на этой реплике, в частности, номер следующей и условия для её произношения. Если так вспомнить – различных действий может быть очень и очень много – от открытия порталов до появления мостов. <br /><br /> Также я проводил эксперименты над первыми восемью байтами «дополнительных переменных» объекта (после которых идёт «FF000000h» и ссылки на имя да на все реплики). Чего-то особо интересного и поддающегося простому изменению не выискал, но вот затирание первого байта (одного байта!) приводило к тому, что персонаж при разговоре произносил не свой текст из STR! То есть менялся его номер. <br /> Ну явно же одно байта мало, у нас ведь более 255 треков в Numeration! Значит, этот байт – индекс в каком-то списке, где треки распределяются уже более детально. Возможно, список должен был быть локален для уровня. <br /> Менялись сразу все его реплики, то есть этот байт отвечал за самого персонажа, а не за его текст. Где-то лежат списки, какие треки принадлежат каждому персонажу… <br /><br /> И тут я снова вспомнил про игровой пароль «квадрат-квадрат-круг-круг-квадрат-квадрат-круг-круг»! Который высвечивает диалоги уровня. Он разделяет их на «Type:» и «Msg:». Где фразы из одного «Type» произносит один персонаж. <br /> И да, наблюдения подтвердили, что первый байт дополнительных переменных – это и есть «Type». А все фразы персонажа располагаются именно в той последовательности, которую задаёт «Msg». <br /><br /> Меняя «тип», я мог заставить двух персонажей говорить одинаковые реплики, но не мог изменить сами треки по сути, то есть сопоставления «Type+Msg=?» у меня ещё не было. <br /><br /> Ударился в дизассемблирование. Надпись «Type: %d Msg: %d» лежит в SCUS. Нашёл её код, посмотрел где вызывается – лишь один раз в некой функции. Долгими замусориваниями я выяснил, что эта функция отвечает за «паузу» игры. Я посмотрел откуда она вызывается (а это была прикольная switch-select / case ассемблерная конструкция!), пробовал поменять вызов – дошло до того, что вместо меню паузы у меня отрисовывается весь VRAM, но игра на паузу-таки встаёт, и воспроизведение диалогов в чит-меню по-прежнему работает. <br /> Выходит, что «Type: %d Msg: %d» лишь рисует на экране тип и номер воспроизводимого трека, но совершенно не связано с его непосредственным воспроизведением. <br /><br /> Заодно проверил, действительно ли у них есть парсер «%d а-ля printf C++ стайл» – и да, оказывается в код игры встроен небольшой printf-щик, который заменяет %d на переданные аргументы. Вроде у него ещё «%08x» есть, я пока не исследовал подробно как он работает, но если удастся приручить эту функцию, то можно будет через неё выводить на экран содержимое интересующих нас регистров во время экспериментов с шифровкой-сжатием текста (только ещё предстоит найти «основной цикл» игры, где отрисовывается КАЖДЫЙ кадр); неплохо бы, а то я уж собирался свой конвертер из числа в строку на ассемблере писать… <br /><br /> Ладно, отвлеклись. Мне нужно было найти то место, откуда «Type: %d Msg: %d» берёт данные. Там постоянно происходила сверка с некой ячейкой, в которой хранился ноль. Другие ссылающиеся на эту ячейку тоже считывали этот ноль, а потом умножали (сдвигали) на большие степени. Я попробовал изменить на единицу или что повыше – все надписи на порталах, в меню, у персонажей, на летательных средствах и прочие – поменялись! Надписи из меню появились на порталах, названия сценок в меню, а некоторые и совсем пропали. Кажется, это какой-то адресный сдвиг. <br /> Но раз он нулевой, я мысленно подставил ноль в регистр, куда загружалось значение, и легко вычислил результирующий адрес (заодно и на экран его вывел….), куда обращалась «Type: %d Msg: %d» (по-идее сам ps2dis должен это знать, но из-за скрытого нуля он не мог вычислить выражение – засылающегося не считался). <br /><br /> По тому адресу располагались некоторые указатели – текущий и предыдущий – на данные, а все остальные – на функции. Я попробовал изменить текущий – и ура, «Type: %d Msg: %d» перестал видеть нормальные типы и номера треков. Но мало того, так ещё и все персонажи перестали устно говорить! <br /><br /> Супер. Перехожу по указателю и пытаюсь разгадать формат данных. А это было не сложно: первый байт – «Type», второй байт – «Msg», третий байт – номер XA канала в SPEECH.STR файле (которые у нас &lt;32 в основных треках и >31 в Secret’STR, их ещё можно увидеть в «idx» файле, который создаёт jPSXdec, если открыть сохранённый индекс диска блокнотом), четвёртый байт игнорируется. Далее четыре байта – некая «длительность» трека, и ещё четыре байта – реальный адрес первого сектора данного трека в SPEECH.STR ! <br /><br /> Это же то что доктор прописал! Через эту таблицу можно как узнать, так и изменить конкретный номер конкретного трека для конкретной фразы конкретного персонажа! <br /> <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/STARS/hack_0.png" title="http://klimaleksus2.ucoz.ru/Files/STARS/hack_0.png" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/STARS/hack_0.png</a> <br /> Итак ещё раз, 12 байт – номер персонажа, номер его реплики, канал XA, длительность в условных единицах и самое главное – LBA первый сектор трека в STR. По сути, нам нужен только он, но игра требует, чтобы номер XA канала совпадал с реальным. <br /><br /> LBA начала секторов конкретных треков тоже можно узнать в .idx сохранёнке jPSXdec, но придётся отнять «90000» от каждого номера – это LBA самого SPEECH.STR, а игра считает сектора по файлу, а не глобально по диску (разумно, если они захотят переместить файл на другой сектор, то придётся лишь где-то поменять смещение, а не в каждом уровне игры!) <br /><br /> Всё прямо-таки прекрасно, осталось узнать, где же лежит эта таблица треков на самом образе, а не в памяти. <br /> Нет, в четвёртом суб-субфайле её нет. Логично, ведь она едина на весь уровень, и можно прослушивать треки подуровней из основной локации, значит искать надо среди первых трёх субфайлов. <br /><br /> Ну в самом первом её точно нет, там ведь только звук и графика. Во втором тоже нет… <br /> Хорошо бы в третьем – будь я разработчиком, я бы поместил её в пустующую яичную зону! Но этой таблицы нет вообще в субфайле уровня… <br /><br /> Тогда может она в EXE? Нет, там бы это заняло кучу места, ведь на каждый уровень своя таблица, а она обычно не маленькая (кстати, окончанием служат «FFFF0000…», когда и Type и Msg равны 255) <br /><br /> Значит есть где-то субфайл, в котором располагаются таблицы сразу на все уровни – я провёл поиск по WAD, и ничего не нашёл… <br /> Да чего уж там, я много-много раз прошаривал весь ISO в надежде найти хоть кусочек это таблицы (вдруг из самого STR берётся?). <br /> Но не было ровным счетом ничего. <br /><br /> Значит, таблица генерируется динамически во время игры. Но чёрт, данные-то всё равно берутся откуда-то, не создаются ж из ничего! <br /> <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/STARS/hack_1.png" title="http://klimaleksus2.ucoz.ru/Files/STARS/hack_1.png" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/STARS/hack_1.png</a> <br /> Стал искать других ссылающихся на адрес (который указывает на Type=0 и Msg=0 – начало таблицы), но нашёл совсем немного – максимум лишь на чтение. Из-за того, что адресация прокачивается через «вечный ноль» и передаётся в функции, бедный дизассемблер не может обнаружить ссылку и не позволяет мне обойти по всем ссылающимся. <br /><br /> Тогда я стал копать соседние функции (несколько указателей, которые располагались после ссылки на таблицу). Сначала я по коду пытался понять, что они делают. Потом я просто попробовал найти их код – и хоп! Его снова нет… <br /><br /> Ни в SCUS ни в WAD. Ну не могут же ассемблерные функции появится сами собой!? Причём в каждом уровне это в общем случае ДРУГИЕ функции. Значит они откуда-то расшифровываются в память. Но простой поиск не давал ни одного хорошего совпадения. <br /><br /> Тогда я стал занулять вызовы функций или менять их местами. Некоторые вешали игру, но больше 80% проходили безболезненно. <br /> Я копал в SunriseSpring, и несколько первых функций отвечали за рождение яйца – если их нарушить, то оно либо не появлялось (от Хантера), либо не рождалось. <br /> Несколько следующих функций отвечали за спецэффекты. И вот это было интересно! Пыль, брызги, вспышки, звёзды, осколки, дымок – это такие небольшие спрайты, которые появляются и сразу исчезают. Так вот, после зануления функции они перестали исчезать! Они просто появлялись и оставались в 3D пространстве. Это было круто, никакими скриншотами не объяснить… <br /> После Зои, рождения яйца, разбивания банки или даже простого торможения остаются «спецэффекты». И они так и висят в воздухе застывшими как в желе! Можно даже выпускать пламя несколько раз – на концах остаются клубы дыма. <br /><br /> Мне сразу же стало любопытно, что будет, если ОЧЕНЬ много раз вызвать спецэффекты – заполонят ли они всё вокруг, или игра вылетит с нехваткой памяти. <br /> Оказалось всё гораздо умнее – когда спецэффектов становилось слишком много (причём независимо от типа – дым, звезда или искра), самые старые начинали исчезать. Но не сами по себе, а строго при появлении новых. <br /> Это неплохо раскрывает внутреннюю структуру их хранения. Скорее всего там определённый массив-очередь, и при добавлении новых смещается его индекс верхушки, при уничтожении – индексы высвобождаются. А если не удалять объекты, то индекс пройдёт кругом и начнёт затирать самые старые спецэффекты. Вернее даже не затирать, а лишь переопределять их. <br /><br /> Эффект не долговечен – до перезапуска уровня или выхода в другой, также имеет некоторые плохие побочные действия, но можно и как PEC код выложить… <br /><br /> Все оставшиеся последующие функции так или иначе были связаны с водой – плавание на поверхности, в глубине, поведение камеры в воде, скорость плавания, управление плаваньем, притяжение и столкновения – доходило до того, что прыгнув в ручей дракончик начинал «плавать» в его плоскости по воздуху не падая. И отменить было нельзя, прыжок тоже не работал. Была функция, отвечающая за нажатие треугольника. <br /><br /> Отдельного внимания заслуживает ещё одна функция, которая отвечала за всю живую природу вплоть до Спаркса. Стоило её отключить, как стрекоза замирала на месте и больше не следовала за дракончиком, но при этом оставалась живой и анимация воспроизводилось. Также не работали таблички, герои не разговаривали, надписи на порталах не возникали. Бочки оставались материальными, но не разбивались от огня; при бодании оставались на месте, но Спайро пробегал сквозь них. Овцы мирно щипали травку стоя на одном месте, из тоже нельзя было поразить. Камень, который надо разбить головой чтобы получить яйцо, больше головой не разбивался. <br /> Если же потом вернуть вызов функции на место, то все объекты снова оживали, Спаркс прилетал, а овцы разбегались. <br /><br /> Из всего этого я делаю заключение, что в эту область памяти помимо таблицы Type+Msg=STR выгружается ещё и сам код уровня! Конкретно поведение тех или иных объектов. Сами объекты отдельно, а их код здесь. <br /><br /> Поиск чего-либо по этим указателям по-прежнему ничего не давал, и я вдруг попробовал найти сами указатели. Мне казалось, что уж они-то точно должны на лету генерироваться… <br /><br /> Но я нашёл полное совпадение! И оно вело… на следующий субфайл! Все же помнят, что нумерация уровней идёт через один (98, 100, 102…). Так вот, соответствующий блок указателей хранится в самом начале следующего же субфайла (99,101,103…). Причём это начало полностью совпадает с тем, что находится в памяти. <br /> <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/STARS/hack_2.png" title="http://klimaleksus2.ucoz.ru/Files/STARS/hack_2.png" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/STARS/hack_2.png</a> <br /> И да, если компарить файл с памятью эмулятора, то «место, где должна быть таблица» оказывается в самом конце последующего субфайла. А при более детальном рассмотрении её даже видно! Однако данные совершено не те… <br /><br /> Это шифровка! Смотрите: <br /> <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/STARS/hack_3.png" title="http://klimaleksus2.ucoz.ru/Files/STARS/hack_3.png" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/STARS/hack_3.png</a> <br /> Ясно же, что за «00000000h» отвечает «CCC90880h». Я даже угадал способ шифрации. Сперва грешил на сложение и вычитание, но это оказался старый быстрый симметричный XOR ! все данные по 4 байта ксорились с неким ключом-паттерном, который записан… где бы вы думали? В заголовка файла! Начиная с четвёртого байта. А с двенадцатого байта идёт указатель на таблицу треков… <br /><br /> Мне нужна ссылка на начало шифрованной области. Её нигде не было, но исследовав несколько «следующих» субфайлов от разных уровней, я понял, что она мне и не требуется вовсе. Достаточно пропустить первые четыре байта, потом считать четырёхбайтный ключ, далее считывать по четыре байта и сверять с ключом – пока не совпадает – не трогать. Как только найдено полное совпадение (а это ВСЕГДА начало шифрованной области) – начиная со следующих же четырёх байт просто ксорить каждые считанные четыре байта с ключом. И так до конца файла! <br /><br /> Так мало того, ещё и зашифровывается обратно абсолютно так же – пропускаете декодированный файл через тот же механизм – он считает неизменный ключ и пойдёт его искать, а как найдёт (первое вхождение мы оставили нетронутым) – поксорит все нижеследующее с там же ключом, а в силу симметричности XOR, это восстановит оригинальные данные. <br /><br /> Ура! Теперь мы во-первых, знаем для чего нужные «следующие» субфайлы, а во-вторых, можем как считывать, так и менять сопоставление персонаж+фраза=озвучка. <br /> Остаётся открытым вопрос, зачем игра вообще что-то шифрует? Ей же гораздо проще вытащить неизменные данные, как начало этого же файла. Если же разработчики специально хотели скрыть эти данные от взломщиком/переводчиков, то могли бы придумать шифровку поизобретательнее чем банальный XOR, и ещё к примеру, закодировать сами указатели в заголовке, по которым я вычислил субфайл. <br /> Единственное, что я знаю, зачем применяют шифровку простым XOR – исключительно для блокирования автоматических попыток сличить данные между файлами. Например, чтобы встроить вирусный код в тело своей программы так, чтобы ни один антивирус его там не обнаружил. Почему XOR? Самый-самый быстрый. Почему не что-то помощнее? Нет смысла – машина и XOR не распознает, а от человека не спасёт и ничто другое… <br /><br /> Возвращаясь к сути полученных данных – для изменения номера STR на свой, нужно во-первых, найти Type персонажа, который его говорит, а также Msg номер реплики (всё это легче сделать в самой игре через тот же чит). Потом узнать начальный сектор целевого трека в SPEECH.STR, а также его XA канал. <br /> Остаётся загадочная «длительность» и единицы её измерения. Если поставить «0», то звука мы не услышим, а текст выведется на экран также быстро, как выводится текст от табличек. Если поставить большое число (стандартный разброс от «128» до «4512»), то текст будет выводиться по буковкам очень медленно, и продолжит делать это даже когда звук закончится. Что интересно – число никак не связано с длиной строки – одинаковая «длительность» заставит и длинную и короткую строки выводится на экран ровно нужное количество времени, в том смысле, что короткая строка будет выводиться дольше, а длинная наоборот, быстрее. <br /> А это означает, что игра ещё и вычисляет расчётную длину строки перед её выводом, умножает на нужный коэффициент и учитывает «длительность» из таблицы треков. А я-то думал, как все фразы на экране оканчиваются одновременно с голосом? <br /> Ну а для проекта перевода это означает, что НЕЛЬЗЯ в отличие от пиратов, завершать строки пробелами, даже если мы уместились в {Разницу} и наш текст оказался короче оригинального. Нужно оборвать строку нулём! Тогда её длина будет соответствовать скорости выведения на экран. А печатным строчкам в меню это хороший повод появиться ровно посередине экрана… <br /><br /> *Продолжение ниже*</span>


<br><br><div class="edited">Сообщение отредактировал <span class="editedBy">aleksusklim</span> - <span class="editedTime">Среда, 10.07.2013, 01:40</span></div></td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-2177" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>  <a href="javascript://" rel="nofollow" onclick="window.top.location.href='mai'+'lto:'+'ale'+'ksusk'+'lim@gmail.com';return false;"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_email.gif" title="E-mail адрес" /></a>  </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post181376"><td class="postRest1"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]DrWho[/b],');return false;">DrWho</a></td><td class="postTdTop">-----========Сообщение # <a name="181376" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-181376-16-1373209652');return false;">400</a> Воскресенье, 07.07.2013, 19:07</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="DrWho" class="userAvatar" border="0" src="http://www.spyro-realms.com/avatar/13/942189.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Мудрый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Почетный Житель" /> Почетный Житель</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank8.gif" title="Ранг 8" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">673</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-3098'});return false;" title="Список наград"><span class="repNums">1</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-3098'});return false;"> 1292 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-181376" edit-url="">Продолжение ниже.</span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView"><a class="link" href="http://eu.playstation.com/psn/profile/DrWho123456/" rel="nofollow" target="_blank"> <img src="http://mypsn.eu.playstation.com/psn/profile/DrWho123456.png" border="0" alt=""/></a></span>
<br><br><div class="edited">Сообщение отредактировал <span class="editedBy">DrWho</span> - <span class="editedTime">Среда, 10.07.2013, 01:33</span></div></td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-3098" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>    </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post181385"><td class="postRest2"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]aleksusklim[/b],');return false;">aleksusklim</a></td><td class="postTdTop">-----========Сообщение # <a name="181385" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-181385-16-1373260953');return false;">401</a> Понедельник, 08.07.2013, 09:22</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="aleksusklim" class="userAvatar" border="0" src="http://klimaleksus.narod.ru/Files/M/aleksusklim.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Мудрый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Редактор" /> Редактор</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank8.gif" title="Ранг 8" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">611</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-2177'});return false;" title="Список наград"><span class="repNums">2</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-2177'});return false;"> 830 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-181385" edit-url="">*Начало выше* <br /><br /> Вспомним, с чего мы начали, а именно – поиск и извлечение строк из данных для объектов. Замечательно, первый байт показывает «Type» героя, потом семь байт неизвестно что, затем «FF000000h», а далее сразу указатель на его имя, за ним – перечисление указателей на реплики. <br /><br /> Чтобы добраться до «Type» из нижнего списка, нужно дважды разыменовать указатели: из листа на 88, оттуда по четырём первым на «Type», и если через семь байт расположен «FF000000h», то <i>скорее всего</i> дальше следует имя и тексты. <br /> Однако «FF000000» встречается в объектных (4,6,8,10…) суб-субфайлах очень часто, и велика вероятность холостого срабатывания. Можно ещё и парсить строку по критериям вроде минимальной длины, допустимых символов, чтобы начиналась с заглавных букв.. но всё это уже почти перебор, а я ищу более строгий однозначных метод. <br /><br /> Оказалось, что после указателя на 88-байтовый объект с текстом, через несколько строк в листе обязательно будет указатель на 4 байта, которые ссылаются на ИМЯ этого персонажа! А потом и далее через четыре байта по всем его репликам. Получается, что текст это как бы тоже объект… <br /><br /> Легко запутаться. Суть в том, что на каждую фразу ровно один указатель, он находится выше неё. Рядом с ним есть указатели на имя и остальные фразы. До них идёт «FF000000h» а ещё левее – дополнительные переменные объекта. Основная ссылка в листе ведёт далеко вверх на 88. Оттуда по указателю – на «Type». Если отойти на 12 байт правее, то встретим указатель на имя, НО туда же ведёт одна из последующих ссылок в листе. Для этого нам даже не надо знать объект – разыменовываем первую – попадаем на 4 байта, разыменовываем их – вот и имя персонажа. А если также поступить с несколькими следующими строчками листа, то выйдем на все тексты. <br /> Получается, что можно либо найти объект и идти вправо в поисках текстов, либо найти тексты и щупать слева их объект… <br /><br /> Я объединил оба метода! Я храню массив «потенциальных» ссылок на имена. Если разыменовывая предполагаемый объект я обнаруживаю флаг «FF000000h», то помечаю «номером Type» место справа, где должна быть ссылка на имя. И если (и только если) это действительно ссылка на имя, то разыменовывая некоторый следующий объект я обязательно наткнусь на ячейку массива, в которой что-то записано (это номер Type потенциального объекта), а значит, смогу тут же считать и имя, и все реплики (даже не дожидаясь указателей на них, просто помечу как «использованные» на всякий случай), и при этом буду знать Type! <br /><br /> Всю эту систему я отлаживал довольно долго, пока она не стала работать ровно так, как должна – вытаскивать абсолютно все тексты с сохранением Numeration. Оказалось, что иногда ссылки на реплики ведут в пустые ячейки, но их нельзя игнорировать, ибо «Msg» повязан на порядковом номере, и если пустую строку выкинуть, то все последующие номера реплик этого персонажа будут сбиты. «Скачок» Msg наблюдается и в чит-меню в самой игре, так что несуществующие строки (коих например полно на табличках Шейлы начиная со второго мира– они определяют текст, который должен быть показан, если кенгуру «ещё» не спасена, что в принципе невозможно при легальном прохождении; мы хотели туда свой рекламный текст вставить… думаю, что теперь мы сможем вставить туда ещё и свою озвучку – да, кажется таблички тоже могут «говорить»…) я решил заменять на прочерки «-», как и «несуществующие имена» (тех же самых табличек например). <br /><br /> Осталось всего ничего – вытащить LBA начальные сектора всех треков из STR, чтобы сверять с ними содержимое из таблицы сопоставления «Type+Msg». Нет, я больше не хочу доверять ни jPSXdec, ни три часа рипать образ через RipBin. <br /> У меня уже есть утилитка для замены треков в STR, я перечитал её код, и написал такую прогу, которая сможет считать XA каналы и LBA начала секторов напрямую из ISO образа! <br /> Реально, мне нужно по одному байту с каждого сектора, зачем для этого извлекать весь SPEECH.STR ? Зато нужно знать как структуру формата образа (24/2048/280), так и размер + LBA самого STR файла в нём. Это уже эмулирование и WinHex… <br /> Зачем? Все нужные данные лежат в корневом секторе, это номер 22. Там таблица размещения файлов. Вообще документацию ISO9660 надо бы почитать, а не как я – посмотрел и взломал формат самого образа. <br /><br /> Короче, шняга такая. В 22-ом секторе находится описание корневой папки. Первые два байта – длина структуры. За ней следует очередная структура, где первые два байта снова показывает длину. Если длина равна нулю, то список закончился. <br /> Структуры описывают либо расположение файла, либо папки, либо текущий/родительский каталог. <br /> Четыре байта (после размера структуры) – LBA первый сектор объекта. Потом четыре байта с чем-то непонятным. За ними четыре байта – размер объекта. Ещё 18 байт непонятного назначения, и один байт – длина имени объекта. Следом за ним – само имя, терминированное нулём. После него идёт что-то ещё, но оно мне уже не нужно. <br /> «Объект» может быть либо файлом, либо папкой, либо сигнатурой каталога. У последней нулевое имя, так что её отличить легко (она показывает текущий LBA той папки, в которой вы находитесь). Файл от папки отличается чем-то внутренним, во что я не стал вникать, а решил просто сканировать имя – если оно заканчивается на «;1» (вернее просто предпоследний символ – точка с запятой), то это файл, а иначе – папка. <br /><br /> Находя папки нужно рекурсивно перемещаться в их сектора и снова считывать структуры. Поскольку записи каталогов всегда первые две (свой и корневой), то вместо них можно просто по желанию выводить путь текущей папки, а ещё возможно опционально отключать рекурсию или не выводить полные пути. <br /><br /> Правда я не тестил свою программу на образах с каталогами, которые занимают более одного сектора (2048 байт), скорее всего, она не сработает, но вряд ли для PlayStation есть диски, на которых будет ТАК много файлов в одной папке, и уж тем более, в Spyro. <br /><br /> Вроде и всё, но для полной картины я решил придумать способ, как вытащить названия миров из SCUS. Поскольку указатели глобальные, то надеется на них бессмысленно (я не хочу ни хардкорить, ни опционально задавать адрес размещения EXE в памяти игры, ибо у GH он один, а у обычной версии совсем другой). Взял навскидку адрес «4096» и незатейливыми свериваниями (пока четвёртый байт каждого квартета равен 00h или 80h – чистой воды указатели) продвигаюсь к «Pete the Mountain Goat», который пропускаю просто по известной длине, а уж потом считываю список разделённых нулям строк. <br /><br /> Такой же шаткий парсинг пришлось применить и для нахождения таблицы TypeMsg в раскодированном «следующем» субфайле (указатель я опять не мог использовать по тем же причинам) – шёл снизу вверх от Type=255 и Msg=255 пока не встречу Type=0 и Msg=0; и даже для считывания листа ссылок на объекты и строки в объектных суб-субфайлах – не просто снизу вверх игнорить пустоту: в некоторых уровнях там располагались громоздкие указатели на память, так что сначала искал «не ноль», потом что-то «меньше размера файла но больше нуля», а затем уже «ноль», разворачивался и шёл вниз. <br /><br /> Теория закончилась, начинается практика. Я ведь написал аж 10 программ на Delphi ! <br /> Некоторые общего назначения, другие чисто под Spyro. Одни могут применяться независимо, а некоторые лишь в связке с остальными. <br /><br /> Общее управление проходит через «.bat» сценарии, и как обычно нужно «перетаскивать». <br /><br /> Файл «Namespace.bat» определяет имена программ, сценариев и рабочих файлов, его вызывает почти каждый скрипт. <br /><br /> Кстати, способ извлечения файлов напрямую из образа тоже пригодился, и он работает не только на BIN/ISO, но и на MDF, надо лишь выставить «24/2048/376». А также, для пиратских образов нужно знать имена файлов «WAD.WAD», «SCUS_944.67» и «SPEECH.STR» (если есть). <br /><br /> Поэтому первый сценарий задаёт параметры для образа. Например для GH это <br /> <!--uSpoiler--><div class="uSpoilerClosed" id="uSpoiler2zRs1P"><div class="uSpoilerButBl"><input type="button" class="uSpoilerButton" onclick="if($('#uSpoiler2zRs1P')[0]){if ($('.uSpoilerText',$('#uSpoiler2zRs1P'))[0].style.display=='none'){$('.uSpoilerText',$('#uSpoiler2zRs1P'))[0].style.display='';$('.uSpoilerButton',$('#uSpoiler2zRs1P')).val('Закрыть спойлер');$('#uSpoiler2zRs1P').attr('class','uSpoilerOpened');}else {$('.uSpoilerText',$('#uSpoiler2zRs1P'))[0].style.display='none';$('.uSpoilerButton',$('#uSpoiler2zRs1P')).val('Открыть спойлер');$('#uSpoiler2zRs1P').attr('class','uSpoilerClosed');}}" value="Открыть спойлер"/></div><div class="uSpoilerText" style="display:none;"><!--ust-->set ROOTLBA=22 <br /> set HEADERSIZE=24 <br /> set SECTORSIZE=2048 <br /> set FOOTERSIZE=280 <br /><br /> set WADNAME="&#92;WAD.WAD" <br /> set EXENAME="&#92;SCUS_944.67" <br /> set STRNAME="&#92;SPEECH.STR"<!--/ust--></div></div><!--/uSpoiler--> <br /> Для моего пиратского сборника (он у меня в MDF) <br /> <!--uSpoiler--><div class="uSpoilerClosed" id="uSpoiler0eRk7V"><div class="uSpoilerButBl"><input type="button" class="uSpoilerButton" onclick="if($('#uSpoiler0eRk7V')[0]){if ($('.uSpoilerText',$('#uSpoiler0eRk7V'))[0].style.display=='none'){$('.uSpoilerText',$('#uSpoiler0eRk7V'))[0].style.display='';$('.uSpoilerButton',$('#uSpoiler0eRk7V')).val('Закрыть спойлер');$('#uSpoiler0eRk7V').attr('class','uSpoilerOpened');}else {$('.uSpoilerText',$('#uSpoiler0eRk7V'))[0].style.display='none';$('.uSpoilerButton',$('#uSpoiler0eRk7V')).val('Открыть спойлер');$('#uSpoiler0eRk7V').attr('class','uSpoilerClosed');}}" value="Открыть спойлер"/></div><div class="uSpoilerText" style="display:none;"><!--ust-->set ROOTLBA=22 <br /> set HEADERSIZE=24 <br /> set SECTORSIZE=2048 <br /> set FOOTERSIZE=376 <br /><br /> set WADNAME="&#92;WAD3.WAD" <br /> set EXENAME="&#92;SPYRO3.EXE" <br /> set STRNAME="&#92;&#92;&#92;"<!--/ust--></div></div><!--/uSpoiler--> <br /><br /> Основную подготовку выполняет автоматический скрипт «Kernel.bat» <br /> Он извлекает таблицу размещения файлов с образа, потом пытается найти в ней «SPEECH.STR», и если это удаётся, то запускает программу, которая извлечёт из образа номера секторов для всех треков. <br /> Но этого мало, затем другая программа перестраивает список так, чтобы он соответствовал нашему Numaration (если XA канал ниже 32, то нумеровать с нуля, а если нет, то с тысячи) <br /> Далее в той же файловой таблице обнаруживаются SCUS и WAD, а потом извлекаются в рабочую папку (убедитесь, что на жёстком диске достаточно места!) <br /><br /> Остаётся три этапа – работа со SCUS, работа с WAD и сбор общего списка. Их выполняют разные скрипты. <br /><br /> «ScusWork.bat» извлекает из EXE названия всех уровней, а потом пропарсивает их так, чтобы номер «98» стал «098». <br /><br /> «AllLevelsWork.bat» работает с WAD куда комплексное. Он поочерёдно извлекает по два субфайла от 98 до 170 (171) и передаёт их для «OneLevelWork.bat». Тот сначала расшифровывает второй субфайл, потом вытаскивает из него таблицу треков, затем начинает поочередно извлекать из первого субфайла подуровни от основного четвёртого до «пока не перестанет извлекаться», ищет описанным способом все тексты подуровня и вызывает основную программу, которая сольёт их вместе с номерами Str в один большой документ (который каждый раз дополняется, а не перезаписывается). <br /><br /> Остаётся лишь финально пропарсить этот документ, чтобы вставить туда названия уровней и выдать читабельные версии. Сейчас на выходе есть один общий красивый документ с текстами в стиле Хранилища, один простой текстовый список, табличный формат для Numeration, файл для моей базы данных и простой список всех персонажей, разделённый по уровням, а глобальные герои, появляющиеся более чем в двух уровнях, вынесены в его начало. <br /><br /> Там же определяется длительность (для Numeration) каждого трека в STR исходя из количества XA секторов, занимаемых дорожкой. Сразу же пришла простая формула, связывающая размер XA с «длительностью», записанную с таблицу TypeMsg: это количество целы занятых секторов, умноженное на 32. Например, самые короткие реплики занимают пять секторов, значит «длительность» равна «(5-1)*32» = 128; Самая большая фраза Бианки имеет длительность 4512, значит «(4512/32)+1» = 142. <br /> Примерная реальная продолжительность трека в секундах вычисляется делением количества секторов на коэффициент «4,6875», погрешность составляет менее двух десятых секунды («с запасом») для первой реплики Бианки и чуть больше 0,7 для самых коротких треков. <br /><br /> *Окончание ниже*</span>


<br><br><div class="edited">Сообщение отредактировал <span class="editedBy">aleksusklim</span> - <span class="editedTime">Среда, 10.07.2013, 01:34</span></div></td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-2177" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>  <a href="javascript://" rel="nofollow" onclick="window.top.location.href='mai'+'lto:'+'ale'+'ksusk'+'lim@gmail.com';return false;"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_email.gif" title="E-mail адрес" /></a>  </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post181457"><td class="postRest1"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]DrWho[/b],');return false;">DrWho</a></td><td class="postTdTop">-----========Сообщение # <a name="181457" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-181457-16-1373405600');return false;">402</a> Среда, 10.07.2013, 01:33</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="DrWho" class="userAvatar" border="0" src="http://www.spyro-realms.com/avatar/13/942189.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Мудрый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Почетный Житель" /> Почетный Житель</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank8.gif" title="Ранг 8" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">673</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-3098'});return false;" title="Список наград"><span class="repNums">1</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-3098'});return false;"> 1292 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-181457" edit-url="">Продолжение ниже. <br /><br /> <b>Добавлено</b> (10.07.2013, 01:31) <br /> --------------------------------------------- <br /> Ну и чтоб пост не пустовал, отпишусь: <br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->steeldragon<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Во всех субфайлах хранится информация и помимо этой. (Окружение уровня, текстуры, и так далее. Подробнее: Энциклопедия - Структура субфайлов WAD).<!--/uzq--></div></div><!--/uzquote--> <br /> А в котором можно шрифт извлечь и вставить в GH? Я хочу просто потестировать этот момент в атласе, меню пауза? субтитрах и катсценах. <br /> И чем, я пробовал тайловым (как-то там) штукой сделать - но там даже эксешника нет - а расписанный метод я не понял совсем. <br /><br /> <b>Добавлено</b> (10.07.2013, 01:33) <br /> --------------------------------------------- <br /> Ну и вопрос на засыпку: чем можно поковырять STR файл? Хочу попробовать озвучку перенести в STR от GH.</span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView"><a class="link" href="http://eu.playstation.com/psn/profile/DrWho123456/" rel="nofollow" target="_blank"> <img src="http://mypsn.eu.playstation.com/psn/profile/DrWho123456.png" border="0" alt=""/></a></span>
<br><br><div class="edited">Сообщение отредактировал <span class="editedBy">DrWho</span> - <span class="editedTime">Среда, 10.07.2013, 01:36</span></div></td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-3098" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>    </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post181459"><td class="postRest2"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]aleksusklim[/b],');return false;">aleksusklim</a></td><td class="postTdTop">-----========Сообщение # <a name="181459" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-181459-16-1373405674');return false;">403</a> Среда, 10.07.2013, 01:34</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="aleksusklim" class="userAvatar" border="0" src="http://klimaleksus.narod.ru/Files/M/aleksusklim.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Мудрый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Редактор" /> Редактор</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank8.gif" title="Ранг 8" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">611</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-2177'});return false;" title="Список наград"><span class="repNums">2</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-2177'});return false;"> 830 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-181459" edit-url="">*Начало выше* <br /><br /> Ну что ж, осталось лишь описать интерфейсы всех своих программ и скриптов… <br /><br /> «FastExportWad.exe» – клон «FastWad», который может только извлекать субфайлы. Плюс, меньше пишет на консоль. Принимает путь к WAD, имя куда извлечь и номер субфайла. <br /><br /> «SpyroLabels.exe» – вытаскивает названия уровней из EXE. Принимает путь к SCUS, имя для сохранения текстового документа, номер последнего уровня и шаг нумерации. Поскольку располагаются они в обратном порядке, последние два аргумента будут «170 -2» <br /> Формат выходного файла: первая строка – номер уровня, следующая строка – полученное название. И так до конца файла (пустая строка). <br /><br /> «SpyroObject.exe» – основной алгоритм поиска объектов и их текста в субфайлах подуровней. Принимает извлечённый четвёртый (шестой, восьмой…) суб-субфайл, имя для выходного документа и максимальную длину строки, которую я определяю как 1024 символа. <br /> Формат выходного файла: строгий. 4 символа – разделитель «----» или число – длина строки (десятичный формат с начальными пробелами, не более «9999»). Затем 1 символ табулятора. Далее если это строка с разделителем «----», то три символа – десятичное число – «Type» индекс объекта (не более «255») и два символа переноса строки; если строка начиналась с числа-длины, то после табулятора идут столько (длина) символов – текстовая строка, оканчивающаяся двумя символами переноса строки. Если предыдущая строка была с разделителем и числом «Type», то текущая строка отражает имя объекта. Все следующие строки построены по принципу этой, но в них в корректной последовательности «Msg» указаны все реплики персонажа. До тех пор, пока вместо длины не появится очередной разделитель «----». Файл начинается с разделителя и заканчивается разделителем и табулятором. <br /><br /> «SpyroCodeCrypt.exe» – декодирует и шифрует обратно «следующий» субфайл уровня. Если передан один аргумент – имя субфайла – программа модифицирует его самого, если два аргумента, то первый считывается, а во второй сохраняется результат. <br /><br /> «SpyroCodeCrypt.exe» – Распечатывает таблицу «TypeMsg» из расшифрованного «следующего» субсубфайла. Принимает декодированный субфайл и имя документа для сохранения. <br /> Формат выходного файла: строгий, но читаемый. По строкам расписаны значения «Type», «Msg», «Канал XA», «длительность» и «LBA начальный сектор». Потом пустая строка. И так до тех пор, пока не выйдет «255/255/0/0/0» (всегда в конце). Каждая строка после нескольких табуляторов выносит «в центр» экрана те же самые данные, но уже с подписями. <br /> Программа также способна принимать свой же изменённый документ, чтобы модифицировать исходный декодированный субфайл. Для этого передайте ей любой третий аргумент (из второго данные пишутся в первый). Внимание, используются только значения из левого столбца в документе! И да, лучше ничего не добавлять и не забирать, а лишь изменять цифры. В конце всегда должен быть «255/255/0/0/0», иначе игре же хуже; а первым должен быть «0/0/…», иначе второй раз не откроется. В теории можно расширить список, но на практике я это не проверял, скорее всего общий размер фигурирует где-то в другом месте. <br /><br /> «CdSector.exe» – десять аргументов… Строит список файлов на образе диска. Первый – путь до образа, второй – имя для сохранения документа. Третий – начальный сектор с корневой папкой (обычно «22»), четвёртый-пятый-шестой – настройки «заголовок-тело-хвост» формата образа. Для ISO это «24», «2048», «280»; для MDF это «24», «2048», «376». Что обозначают эти числа я писал ещё в японской теме для RipBin. Здесь же более общий случай, поэтому «тело» обычно всегда будет «2048». Последние четыре аргумента – опции: «0» отключено, «1» (или что угодно) – включено. Первая – обрабатывать ли все каталоги рекурсивно? (Да – выведет и из всех дочерних, Нет – только из указанного сектора, если третий аргумент «22», то лишь из корневого). Вторая – Показывать ли найденные папки? (Да – обнаруженные папку будут выведены наравне с файлами, Нет – папки может и будут обработаны рекурсивно (предыдущая опция), но не выведутся в документ). Третья – выводить ли имя текущего каталога? (Да – в каждом каталоге перед списком окажется его имя и адрес, Нет – список будет содержать только найденные папки (если предыдущая опция) и файлы). Четвёртая – Отображать ли полные пути? (Да – перед именем каждого файла и папки будет выведен путь до него, начинающийся с «&#92;», Нет – имена будут выводиться так, как они записаны в структуре каталога) <br /> Формат выходного файла: зависит от настроек, но принцип такой: первая строка – два числа и символ (через пробелы) : LBA первый сектор объекта, размер объекта в байтах и флаг: «P» для текущего каталога, «F» для найденного файла, «D» для найденной папки. Следующая строка – имя объекта. В конце списка пара чисел «сектор размер» будет «0 0». <br /> Рекурсия каталогов проходит только после полной распечатки текущего, то есть сначала перечисляется содержимое имеющейся папки, а за ней программа последовательно переходит по папкам сверху вниз. <br /> Файлы имеют в конце имени «;» и цифру, папки ничего, а информация о текущем каталоге оканчивается на «&#92;». <br /><br /> «GetFromDisc.exe» – извлекает файл из образа диска напрямую. Аргументы: путь к образу, имя для сохранения, LBA первый сектор файла, размер файла в байтах, и троица настроек формата образа «24», «2048», «280» (или «24», «2048», «376» для MDF). По сути, извлекать файлы можно с любого типа образов, если они устроены одинаково с ISO/BIN/MDF, если рассмотреть неизвестный формат получше и подобрать эти числа. <br /> У программы нет функции засовывания файла обратно в образ, ибо ни к чему хорошему это не приведёт (сгорают контрольные суммы), зато её код до смешного простой. <br /><br /> «StrDump.exe» – распечатывает начала треков и их каналы из STR файла на образе. Аргументы один-в-один такие же, как у предыдущей программы (GetFromDisc). <br /> Формат выходного файла: список. Четыре числа в каждой строке: LBA первый сектор трека, его размер в секторах, номер XA канала, «Sector stride» – число, показывающее через сколько других треков перемешены нужные (jPSXdec кстати, это тоже запоминает в свой «idx»). Завершается флагом «0 0 0 0». <br /><br /> «SpeechList.exe» – Считывает выходной документ от предыдущей программы (StrDump) и строит на его основе наш Numeration список. Два аргумента (угадайте какие?) <br /> Формат выходного файла: тоже список из четырёх чисел: STR номер трека (в нашем смысле), LBA первый сектор, количество секторов трека, и его XA канал. Кончается ничем. <br /><br /> «TextMerge.exe» – сливает все необходимые данные в единый текстовый документ. Первый аргумент – выходной файл от «SpyroObject.exe»; второй аргумент – выходной файл от «SpyroStrInfo.exe»; третий – выходной файл от «SpeechList.exe»; четвёртый – документ для сохранения: если существует, то происходит дозапись, если нету – создаётся новый; пятый аргумент опциональный – номер уровня WAD (строка) : если передан, то сразу записывается в выходной файл со звёздочки («*098»), если не передан – допись просто происходит через несколько строк – это необходимо чтобы отличать уровни от подуровней – при обработке уровня надо передать его номер и он впишется, а подуровни просто потом допишутся через пары пустых строчек. <br /> Формат выходного файла: огромный список! Строки, начинающиеся со звёздочки – начала уровней., они отделяются пустыми строками с обеих сторон (первая строка по идее должна сразу начинаться со звёздочки). Очередная непустая строка – имя персонажа. За ним перечисляются реплики до тех пор, пока не встреться пустая строка; каждая реплика занимает две строчки: на первой четыре числа – наш номер STR, LBA первый сектор трека, размер трека в секторах, и «длительность» фразы из игры (номер канала XA я посчитал лишним и вообще ненужным); а на следующей строке уже сам текст реплики. После пустой строки снова ожидается имя персонажа и его реплики, но: если пустых строк две или более – это разделитель подуровней; если встретилась звёздочка – на этой же строке имя нового уровня. Если фраза не наёдена в STR и не может быть сопоставлена в номером для Numeration – вместо четырёх чисел выводится «0 0 0 0» <br /><br /> «FinalOutput.exe» – Последний монстр, принимает семь аргументов. Первый: имя выхода от предыдущей программы (TextMerge), ещё пять файлов являются выходными: нормальный, текстовый, табличный, список персонажей, код базы данных. Последний седьмой аргумент – текстовый документ из-под «SpyroLabels.exe» (дополнительно прошедший через «FixNames.bat») с названиями уровней, сопоставляемыми с их номерами. <br /> Форматы выходных файлов: Нормальный: разделитель уровней «~~~~~~~~» за ним после переноса номер WAD, двоеточие и после пробела название уровня; разделитель подуровней «~~» отдельным абзацем; имена персонажей в круглых скобках с двумя пробелами в начале, за ними строки, начинающиеся с номера STR в квадратных скобках с табулятором на конце, и на этой же строке сам текст реплики. Пустые строки отделяют персонажей с их текстом и разделители. <br /> Текстовый формат – простой список: номер STR, номер уровня WAD, имя персонажа, двоеточие с пробелом и текст реплики. Цифры выровнены пробелами, а после них вставлены табуляторы. <br /> Табличный – почти как текстовый, но везде стоят «&#124;&#124;» для наших wiki-страниц. Под номером уровня WAD через «&lt;br / >» ещё и вставлена приблизительная длительность трека в секундах (формулу я приводил выше). <br /> Список героев – всё просто: сначала «глобальные», потом через разделители «~~~ WAD ~~~» локальные (если есть). <br /> Формат базы данных пока описывать не буду, расскажу о нём когда про эту самую базу буду говорить. <br /><br /> Ну и все сценарии: <br /><br /> «FinalWork.cmd» – запускает «FinalOutput.exe» и сортирует текстовый и табличный вывод через «Sorting.bat». <br /><br /> «AllLevelsWork.bat» – принимает имя WAD-файла и делает кучу действий, основное – вызов «OneLevelWork.bat» в цикле. <br /><br /> «FixNames.bat» – принимает вывод от «SpyroLabels.exe» и добавляет двузначным цифрам начальный ноль, перезаписывает исходный файл. <br /><br /> «ISO_rip.bat» – принимает ISO образ GH и производит все действия над ним. <br /><br /> «Kernel.bat» – внутренне использование, принимает образ от «ISO_rip.bat». <br /><br /> «MDF_rip.bat» – клон «ISO_rip.bat», настроенный на ParaDoX образ MDF (и там нет SPEECH.STR). Можете заменить переменные в файле под себя. <br /><br /> «Namespace.bat» – вызывается всеми, закрепляет имена файлов, можете отредактировать его. <br /><br /> «OneLevelWork.bat» – принимает три аргумента: первый – субфайл уровня, второй – следующий субфайл, третий – номер основного уровня (ноль в начале для «98» добавляется внутри). Сливает текст из одного уровня куда следует. <br /><br /> «ParseLba.bat» – принимает вывод от «CdSector.exe» и имя интересующего файла (без «;1» на конце). Записывает в переменные %t_lba% и %t_size% сектор и размер если нашёл, и нули, если нет. <br /><br /> «ScusWork.bat» – принимает SCUS и вытаскивает оттуда названия уровней. Сам вызывает «FixNames.bat». <br /><br /> «Sorting.bat» – использует «sort», чтобы отсортировать переданный файл. Перезаписывает его. <br /><br /> Есть ещё несколько самостоятельных батников: <br /> (все они принимают один файл и выводят результат по тому же имени с новым добавленным расширением, просто наблюдайте появление нового файла рядом с исходным) <br /><br /> «CdSector_ISO.bat» – перетащите на него образ и он построит список файлов на нём. <br /> «CdSector_MDF.bat» – клон для MDF. <br /><br /> «Code_crypt.bat» – перетащите на него «следующий» субфайл, и он его раскодирует/закодирует. <br /><br /> «Get_levels.bat» – перетащите на него SCUS и он вытащит оттуда имена файлов. <br /><br /> «Get_SCUS.bat» – перетащите на него образ GH, и он вытащит оттуда SCUS. <br /> «Get_WAD.bat» – клон для WAD. <br /><br /> «Spyro_text.bat» – перетащите на него объектный субфайл, и он вытащит вам текст оттуда. <br /><br /> «Str_export.bat» – перетащите раскодированный «следующий» субфайл и получите TypeMsg таблицу треков. <br /> «Str_import.bat» – если изменили вывод предыдущего то можете всавить его обратно – перетаскивать надо по-прежнему за раскодированный «следующий» субфайл. <br /><br /> «StrDump_GH.bat» – перетащите на него образ GH, и он вытащит вам информацию о секторах. <br /><br /> Кстати, многие сценарии ломаются, если не передать какой-то параметр или сделать это неправильно. Никаких звёздочек не пишите, а том там есть команды удаления файлов, будет плохо если попадёт del /f /q * <br /> А все программы вообще не запустятся если не соблюдать количество аргументов. <br /> Всё что они пишут на консоль – название и статус: «OK !» – доработала до конца, «ERROR !» – возникла ошибка. Никакой справки по аргументам в них нет, лучше читайте вызовы из bat-фалов. <br /><br /> Последнее, что нужно сказать. Я понял, откуда у «панд» так много текста! Помните подуровень, где надо было на лодке защищать от носорогов целую кучу панд? Так разработчики тупо копирнули код одной из «говорящих» панд более десяти раз. При этом в игре текста нет, а в файле тонны его копий… (забавно, мои пираты его даже по-разному переводили!) <br /> В подуровне MoltenCrater где надо было прикрутить головы человечкам – всех их зовут «Rocky». Текстов нет, а имена есть. <br /> У всех трёх козлов одинаковое имя, текст и номера STR. Но имя меняется во время игры, они берётся из EXE. <br /> В MidnightMountain Бианка скопирована дважды, ибо она появляется как в начале уровня, так и возле ворот Колдуньи. И весь её текст тоже сдублирован дважды, со ссылкой на те же треки из STR (если найти где концы какой реплики, то в ненужный текст преспокойно влезут все данные для моего Вихря!) <br /> Такое встречается много где, например у Шерифа. А у Зои на табличках для Спаркса есть «Yes.» да «No.» и как ответа на вопросы и как отдельные реплики. <br /><br /> И вообще, надо новый Нумерейшн делать… <br /><br /> Вот весь вывод для Greatest Hits: <br /> <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/2/GhText.rar" title="http://klimaleksus2.ucoz.ru/Files/2/GhText.rar" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/2/GhText.rar</a> <br /><br /> А вот инвалидский без STR (GH’овские не подошли по LBA секторов) от Парадокса: <br /> <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/2/ParaDoX.rar" title="http://klimaleksus2.ucoz.ru/Files/2/ParaDoX.rar" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/2/ParaDoX.rar</a> <br /><br /> Ещё раз ссылка на мой архив: <br /> <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/2/MegaTextRip.rar" title="http://klimaleksus2.ucoz.ru/Files/2/MegaTextRip.rar" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/2/MegaTextRip.rar</a></span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView"><b><span style="color:#6A0000">Зима недовольства заменится летом…</span> <br /> <span style="color:#643106">Язык – мой друг! Язык – мой враг…</span> <br /> <span style="color:#686A00">Зови меня Хакер…</span> <br /> <span style="color:#006A00"><i>(coming…)</i></span> <br /> <span style="color:#006A6A"><i>(coming soon!)</i></span> <br /> <span style="color:#00006A">Яркой стрелой пурпурный войн…</span> <br /> <span style="color:#400268">Страшись конца Декабря…</span> <br /> <span style="color:#6A003A">Вихрь, вихрь, шустрый пыл…</span> <br /> … <br /> <span style="color:#3F3F3F">Я всегда получаю по Заслугам…</span></b> <br /> <img src="http://s82.ucoz.net/panel/?a=roff&t=b27b46bd423c06fc8463c2ff2cca972e177725f07791d5&foo=bar.jpg" border="0" alt=""/></span>
<br><br><div class="edited">Сообщение отредактировал <span class="editedBy">aleksusklim</span> - <span class="editedTime">Среда, 10.07.2013, 01:37</span></div></td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-2177" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>  <a href="javascript://" rel="nofollow" onclick="window.top.location.href='mai'+'lto:'+'ale'+'ksusk'+'lim@gmail.com';return false;"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_email.gif" title="E-mail адрес" /></a>  </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post181464"><td class="postRest1"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]steeldragon[/b],');return false;">steeldragon</a></td><td class="postTdTop">-----========Сообщение # <a name="181464" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-181464-16-1373438544');return false;">404</a> Среда, 10.07.2013, 10:42</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="steeldragon" class="userAvatar" border="0" src="https://dl.dropboxusercontent.com/u/34707934/Games/etc/s3translation/avatars/5.png"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Взрослый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Редактор" /> Редактор</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank6.gif" title="Ранг 6" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">304</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-3244'});return false;" title="Список наград"><span class="repNums">0</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-3244'});return false;"> 293 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-181464" edit-url=""><!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->aleksusklim<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Качайте проги: <a class="link" target="_blank" href="/go?http://klimaleksus2.ucoz.ru/Files/2/MegaTextRip.rar" title="http://klimaleksus2.ucoz.ru/Files/2/MegaTextRip.rar" rel="nofollow">http://klimaleksus2.ucoz.ru/Files/2/MegaTextRip.rar</a> <!--/uzq--></div></div><!--/uzquote--> Мощно. Надо будет посмотреть, особенно SpyroObject... <br /><br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->aleksusklim<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Ясно же, что за «00000000h» отвечает «CCC90880h». Я даже угадал способ шифрации. Сперва грешил на сложение и вычитание, но это оказался старый быстрый симметричный XOR ! все данные по 4 байта ксорились с неким ключом-паттерном, который записан… где бы вы думали? В заголовка файла!<!--/uzq--></div></div><!--/uzquote--> <br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b></div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Остаётся открытым вопрос, зачем игра вообще что-то шифрует?<!--/uzq--></div></div><!--/uzquote--> <br /> Насколько я помню, именно таким (или почти таким) способом шифровки пользуется libcrypt: <br /> <!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->consolecopyworld.com<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->The routine that performs the check on the disk uses the hardware registers of the CD-ROM(1F80180X) directly and it memorizes the temporary data in the scratchpad memory <br /> (1F800000-1F8003FF). <b>It then calculates a 16bit number with a recursive algorithm.</b> <br /> (Magic Word!) this magic word is then used as a parameter for the subroutines, the value is stored in some register of COP0 (coprocessor of system), leaving it in the low part of the BPC register until the program finishes. <br /> ... <br /> The second routine, that that checks the presence of the MagicWord in the BPC, is implemented in different ways in the various games that use it: some perform the check immediately (FF8 for example), others wait until a certain level (Spyro2)...<!--/uzq--></div></div><!--/uzquote--></span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView">Может, пора изменить программу?... <br /> Главное - это правильная стратегия... <br /> Где-то есть последний островок свободы, где нет корпораций...</span>
</td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-3244" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>    </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr><tr><td class="postSeparator"></td></tr><tr id="post181566"><td class="postRest2"><table border="0" width="100%" cellspacing="1" cellpadding="2" class="postTable">
<tr><td width="23%" class="postTdTop" align="center"><a class="postUser" href="javascript://" rel="nofollow" onClick="emoticon('[b]aleksusklim[/b],');return false;">aleksusklim</a></td><td class="postTdTop">-----========Сообщение # <a name="181566" class="postNumberLink" href="javascript://" rel="nofollow" onclick="prompt('Прямая ссылка к сообщению','http://www.spyro-realms.com/forum/48-11180-181566-16-1373547089');return false;">405</a> Четверг, 11.07.2013, 16:51</td></tr>
<tr><td class="postTdInfo" valign="top">

 <div align="center">
 <table border="0" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td width="17" background="/img/forum/tl.png" height="17">
 </td>
 <td background="/img/forum/tc.png" height="17">
 </td>

 <td width="17" background="/img/forum/tr.png" height="17">
 </td>
 </tr>
 <tr>
 <td width="17" background="/img/forum/cl.png">
 </td>
 <td><img alt="" title="aleksusklim" class="userAvatar" border="0" src="http://klimaleksus.narod.ru/Files/M/aleksusklim.jpg"></td>
<td width="17" background="/img/forum/cr.png"></td>
 </tr><tr>
 <td width="17" background="/img/forum/bl.png" height="17">
 </td>
 <td background="/img/forum/bc.png" height="17">
 </td><td width="17" background="/img/forum/br.png" height="17">
 </td>
 </tr>
 </tbody></table></div>
 <div id="message2" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #85B0D4; font-size: 11px;">
 <div class="postRankName">Мудрый Дракон</div>
 </div>
<div id="message2_1" style="border: 1px solid #85B0D4; margin: 0px; padding: 8px 11px; background-color: #9FC5E6; font-size: 11px;">
<div class="postgroup_"><img alt="" style="margin:0;padding:0;border:0;" name="groupIcon" src="http://www.spyro-realms.com/img/button/mini_red.gif" title="Редактор" /> Редактор</div>
<div class="postRankIco"><img alt="" border="0" align="absmiddle" name="rankimg" src="http://spyro.ucoz.ru/Rulers1/rank8.gif" title="Ранг 8" /></div>
<!-- <div class="numposts">Сообщений: <span="unp">611</span></div> -->
 
 
 <div class="reputation1">Награды: <a href="javascript://" rel="nofollow" onclick="new _uWnd('AwL','Список наград',380,200,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/54-2177'});return false;" title="Список наград"><span class="repNums">2</span></a> &nbsp; <br>
  <a href="javascript://" rel="nofollow" onclick="new _uWnd('Rh',' ',400,250,{autosize:1,closeonesc:1,maxh:300,minh:100},{url:'http://www.spyro-realms.com/index/9-2177'});return false;"> 830 </a> 
 
<div class="statusBlock">Где: <span class="statusOffline">Не в городе Драконов</span></div>
 
 </div></div>
 
 
</td><td class="posttdMessage" valign="top"><span class="ucoz-forum-post" id="ucoz-forum-post-181566" edit-url=""><!--uzquote--><div class="bbQuoteBlock"><div class="bbQuoteName" style="padding-left:5px;font-size:7pt"><b>Цитата</b> (<span class="qName"><!--qn-->steeldragon<!--/qn--></span>)</div><div class="quoteMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzq-->Насколько я помню, именно таким (или почти таким) способом шифровки пользуется libcrypt<!--/uzq--></div></div><!--/uzquote--> <br /><br /> А можно полную ссылку на источник? По тексту я нашёл лишь: <br /> <a class="link" target="_blank" href="/go?http://badtaste.free.fr/psx/outils/cours.html" title="http://badtaste.free.fr/psx/outils/cours.html" rel="nofollow">http://badtaste.free.fr/psx/outils/cours.html</a> <br /><br /> А вообще да, это отголоски libcrypt. <br /><br /> Я провёл эксперименты над Платиной, причём у меня откуда-не-помню есть «.sub» файл, который если положить рядом с образом, то Epsxe эмулирует его как оригинальный диск, и в Cloud Spires не вылетает ошибка. <br /> Следовательно я имел возможность дампить память после ошибки защиты и без неё, чтобы найти отличия. <br /><br /> И да, во всём виноват XOR. Но не совсем тот, который расшифровывает «следующий» субфайл. Я поковырялся в коде и понял, что такое «ключ» для расшифровки. <br /> Оказывается это просто адрес, на котором нужно перестать ксорить! Система загружает «следующий» субфайл в память по статичному адресу, потом считывает ключ с четвёртого байта, потом прыгает вперёд ровно на «1000h» (4096 байт) и начинает производить XOR всех данных с ключом до тех пор, пока текущий адрес не станет больше или равен значению ключа. По сути наш ключ – это просто размер «следующего» субфайла плюс его адрес загрузки минус количество нулей на конце. <br /><br /> При правильной эмуляции с субканалом я сдампил память и сравнил её с файлом из WAD. Естественно, не совпадало. Тогда я расшифровал его своей программой (можно выпустить новую версию, раз теперь известно назначение ключа) и сравнил ещё раз: основная часть совпала, а небольшой участок остался шифрованным, но не так, как в остальном (WAD и дамп). <br /> С этими тремя я сравнил дамп при ошибке защиты, и в нём этот же участок выглядел опять неправильно. Через дизассемблер я нашёл функцию, которая им занимается, и там снова был XOR. Но сама функция находилась в этом же «следующем» субфайле, то есть была расшифрована первым XOR (который с ключом). <br /><br /> Выходит, что система защиты влияет на вторичный ключ, которым уже расшифрованный «следующий» субфайл расшифровывает небольшую часть себя. Откуда он берёт адрес, размер и ключ – не совсем понятно, но скорее всего, они просто вшиты в его тело (которое изначально шифровано первым XOR). <br /><br /> Второе наблюдение: если сохранить savestate при загрузке с субканалом, то потом даже если поменять образ на «нелегальный» и загрузить savestate, то больше ошибок не случится. Из чего я делаю вывод, что игра ОДИН раз сканирует легальность диска, а потом просто обращается к результатам проверки. <br /><br /> В описании libcrypt сказано, что хранит магическое слово игра чёрти где, и просто так в дампе его не будет. Но где-то в эмуляторе оно же есть! Плюс известно, как именно libcrypt сканирует диск – обращаясь к ячейкам-регистрам дисковода, их можно подсветить в ps2dis если загрузить ps1.map через «label definition file» в меню. <br /><br /> В итоге есть три способа обойти libcrypt на Платине: <br /> 1) Найти и уничтожить функцию, которая сканирует диск на легальность. Вместо неё написать код, который даст такой результат, будто прежняя функция подтверждает легальность любого диска. <br /> 2) Найти место, куда сохраняется магическое слово и само это слово (например, сравнивая память эмулятора в ArtMoney). Потом просто всунуть куда-нибудь функцию, которая положит магическое слово в нужную ячейку или регистр. Либо понять, откуда шифрованная функция в «следующих» субфайлах получает правильный или неправильный ключ, и сделать так, чтобы он всегда был правильным. <br /> 3) Полностью разрушить все XOR-шифрования, а в WAD поместить заранее расшифрованные (сдампенные) «следующие» субфайлы – игра будет пытаться их неправильно расшифровать, но мы занулим саму шифровку (поэтому независимо от правильности ключа, функция всё равно ничего не изменит), а поскольку файлы будут загружены уже расшифрованные нами, то всё будет «просто работать». Альтернатива – найти ключи-смещения-размеры для каждого уровня, которые использует вторичный XOR, и «перешифровать» части файлов так, чтобы неверный ключ наоборот становился верным и выдавал корректные данные (это легче чем кажется, XOR же симметричный!) <br /><br /> Результаты испытаний: <br /> 1) Найти первую функцию тестирования диска оказалось слишком сложно… Ссылок на аппаратные регистры дисковода очень много – я пытался занулять вызывающие их функции, но игра либо не загружалась совсем, либо наоборот работала абсолютно правильно (я пытался испортить алгоритм сканирования диска, чтобы на «легальном» образе происходила ошибка при входе в Cloud Spires) <br /> 2) Я искал через ArtMoney различия в памяти эмулятора при загрузках верного и неверного образов, а также после savestate на легальных и нелегальных запусках. То что нашёл не сработало… Пробовал сверять память, куда частенько идёт обращение в областях возле XOR, но полная её подмена на данные с «нелегального» запуска ничуть не помешали игре зайти в уровень корректно. <br /> 3) Предварительная расшифровка WAD может сработать, но есть две проблемы: нужно дампить и дизассемблировать КАЖДЫЙ уровень, что отнимет очень много времени… А во-вторых, ещё не факт что мы вот так просто найдём ВСЕ места, где игра обращается к системе защиты. Может она не только запуски уровней трассирует? (вылетание при касании воды, лавы или проигрышах (Buzz’s Dungeon) – это всё равно пока «следующий» субфайл, ибо там и описано поведение воды, камеры и спецэффектов. Но я имею в виду что-то совершенно другое, например появлении «Зои» понятно где…) <br /><br /> Что хочу сказать – Платину <b>можно</b> взломать. Но я пока не стану этим заниматься. Когда дойдём до перевода Платины – вернусь к взлому. Либо если кому интересно, можете сами попробовать снять libcrypt, или хотя бы проверить гипотезу о полном удалении ксора отовсюду. <br /> Насчёт GH – у нас всё в порядке. Даже если за первым ксором скрывается ещё один, то в обычном режиме он нормально расшифровывает критические данные, и игра всегда работает. Откуда берётся Зоя при загрузке подставной сохранёнки с карты памяти? Ещё не знаю, но во-первых я не уверен что это вообще связано с libcrypt, а во-вторых я не буду убирать Зою, мы же хотим в ней послание оставить!</span>

<br><hr size="1" width="150" align="left" class="signatureHr"><span class="signatureView"><b><span style="color:#6A0000">Зима недовольства заменится летом…</span> <br /> <span style="color:#643106">Язык – мой друг! Язык – мой враг…</span> <br /> <span style="color:#686A00">Зови меня Хакер…</span> <br /> <span style="color:#006A00"><i>(coming…)</i></span> <br /> <span style="color:#006A6A"><i>(coming soon!)</i></span> <br /> <span style="color:#00006A">Яркой стрелой пурпурный войн…</span> <br /> <span style="color:#400268">Страшись конца Декабря…</span> <br /> <span style="color:#6A003A">Вихрь, вихрь, шустрый пыл…</span> <br /> … <br /> <span style="color:#3F3F3F">Я всегда получаю по Заслугам…</span></b> <br /> <img src="http://s82.ucoz.net/panel/?a=roff&t=b27b46bd423c06fc8463c2ff2cca972e177725f07791d5&foo=bar.jpg" border="0" alt=""/></span>
<br><br><div class="edited">Сообщение отредактировал <span class="editedBy">aleksusklim</span> - <span class="editedTime">Четверг, 11.07.2013, 17:29</span></div></td></tr>
 <tr><td class="postBottom" align="center">&nbsp;</td><td class="postBottom">
 
 <table border="0" width="100%" cellspacing="0" cellpadding="0">
 <tr><td><a href="http://www.spyro-realms.com/index/8-2177" target="_blank"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_profile.gif" title="Профиль пользователя" /></a>  <a href="javascript://" rel="nofollow" onclick="window.top.location.href='mai'+'lto:'+'ale'+'ksusk'+'lim@gmail.com';return false;"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_email.gif" title="E-mail адрес" /></a>  </td><td align="right" style="padding-right:15px;">   </td><td width="2%" nowrap align="right"><a class="goOnTop" href="javascript:scroll(0,0);"><img alt="" style="margin:0;padding:0;border:0;" src="http://www.spyro-realms.com/buttons/p_up.gif" title="Вверх" /></a></td></tr>
 </table></td></tr></table></td></tr></table></div></div><div class="gDivBottomLeft"></div><div class="gDivBottomCenter"></div><div class="gDivBottomRight"></div>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
<tr><td colspan="2" class="bottomPathBar" style="padding-top:2px;"><table border="0" width="100%" cellspacing="0" cellpadding="0"><tr><td class="forumNamesBar" style="padding-top:3px;padding-bottom:5px;"><a class="forumBar" href="http://www.spyro-realms.com/forum/">Форум Spyro Realms</a> &raquo; <a class="forumBar" href="http://www.spyro-realms.com/forum/14">Не о Спайро</a> &raquo; <a class="forumBar" href="http://www.spyro-realms.com/forum/48">Союз крылатых переводчиков</a> &raquo; <a class="forumBarA" href="http://www.spyro-realms.com/forum/48-11180-1">Перевод Spyro 3: Взлом и программы</a> <span class="thDescr">(Обсужедния взлома игра, программ и прочих проблем)</span></td><td width="218px"><script>
function check_search(s){
	if($(s).find('input[type="text"]').val().length< 3){
		_uWnd.alert('Вы ввели слишком короткий поисковой запрос.','',{w:230,h:80,tm:3000})
		return;
	}
	$(s).submit();
}
</script>
<form id="thread_search_form" onsubmit="check_search(this);return false;" action="http://www.spyro-realms.com/forum/48-11180" method="GET"><input class="fastNav" type="submit" value="Ok" id="thread_search_button"><input type="text" name="s" value="" placeholder="Поиск по теме" id="thread_search_field"/></form></td></tr></table></td></tr>
<tr><td width="50%"><table class="switches" border="0" cellspacing="1" cellpadding="2"><tr><td class="pagesInfo" style="padding-right:7px;">Страница <span class="curPage">27</span> из <span class="numPages">36</span></td><td class="switch" align="center"><a class="switchBack" href="http://www.spyro-realms.com/forum/48-11180-26" title="Предыдущая">&laquo;</a></td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-1">1</a></td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-2">2</a></td><td class="switch" align="center">&#133;</td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-25">25</a></td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-26">26</a></td><td class="switchActive" align="center">27</td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-28">28</a></td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-29">29</a></td><td class="switch" align="center">&#133;</td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-35">35</a></td><td class="switch" align="center"><a class="switchDigit" href="http://www.spyro-realms.com/forum/48-11180-36">36</a></td><td class="switch" align="center"><a class="switchNext" href="http://www.spyro-realms.com/forum/48-11180-28" title="Следующая">&raquo;</a></td></tr></table></td><td align="right" nowrap="nowrap"><form name="navigation" style="margin:0px"><table border="0" cellspacing="0" cellpadding="0"><tr><td class="fFastNavTd" style="padding-top:5px;padding-bottom:5px;"><select class="fastNav" size="1" name="fastnav"><option class="fastNavMain" value="0">Главная страница форума</option><option class="fastNavCat" value="10">О сайте</option><option class="fastNavForum" value="19">&nbsp;&nbsp;&nbsp;&nbsp; Город Драконов</option><option class="fastNavForum" value="20">&nbsp;&nbsp;&nbsp;&nbsp; Наша жизнь</option><option class="fastNavCat" value="1">О Спайро</option><option class="fastNavForum" value="2">&nbsp;&nbsp;&nbsp;&nbsp; Spyro The Dragon</option><option class="fastNavForum" value="3">&nbsp;&nbsp;&nbsp;&nbsp; Spyro 2: Gateway to Glimmer / Ripto&#39;s Rage</option><option class="fastNavForum" value="4">&nbsp;&nbsp;&nbsp;&nbsp; Spyro 3: Year of the Dragon</option><option class="fastNavForum" value="5">&nbsp;&nbsp;&nbsp;&nbsp; Spyro: Enter the Dragonfly</option><option class="fastNavForum" value="6">&nbsp;&nbsp;&nbsp;&nbsp; Spyro: A Hero&#39;s Tail</option><option class="fastNavForum" value="52">&nbsp;&nbsp;&nbsp;&nbsp; The Legend of Spyro: A New Beginning</option><option class="fastNavForum" value="53">&nbsp;&nbsp;&nbsp;&nbsp; The Legend of Spyro: The Eternal Night</option><option class="fastNavForum" value="13">&nbsp;&nbsp;&nbsp;&nbsp; The Legend of Spyro: Dawn of the Dragon</option><option class="fastNavForum" value="49">&nbsp;&nbsp;&nbsp;&nbsp; Skylanders</option><option class="fastNavForum" value="17">&nbsp;&nbsp;&nbsp;&nbsp; Игры на Game Boy Advance и Nintendo DS</option><option class="fastNavForum" value="18">&nbsp;&nbsp;&nbsp;&nbsp; Прочее</option><option class="fastNavForum" value="11">&nbsp;&nbsp;&nbsp;&nbsp; Наше творчество по Спайро</option><option class="fastNavForum" value="21">&nbsp;&nbsp;&nbsp;&nbsp; Список ВСЕХ спайровских игр по порядку</option><option class="fastNavCat" value="28">Ролевая игра (NC-12)</option><option class="fastNavForum" value="22">&nbsp;&nbsp;&nbsp;&nbsp; Обсуждение ролевой.</option><option class="fastNavForum" value="29">&nbsp;&nbsp;&nbsp;&nbsp; Анкеты игровых персонажей.</option><option class="fastNavForum" value="43">&nbsp;&nbsp;&nbsp;&nbsp; Драконья Жизнь</option><option class="fastNavCat" value="14">Не о Спайро</option><option class="fastNavForum" value="15">&nbsp;&nbsp;&nbsp;&nbsp; Тапки</option><option class="fastNavForum" value="16">&nbsp;&nbsp;&nbsp;&nbsp; Обо всём</option><option class="fastNavForum" value="25">&nbsp;&nbsp;&nbsp;&nbsp; Творческий форум</option><option class="fastNavForumA" value="48" selected>&nbsp;&nbsp;&nbsp;&nbsp; Союз крылатых переводчиков</option><option class="fastNavForum" value="40">&nbsp;&nbsp;&nbsp;&nbsp; Раздел других игр.</option><option class="fastNavCat" value="31">Другие игры.</option><option class="fastNavCat" value="26">Архив старых тем.</option><option class="fastNavForum" value="27">&nbsp;&nbsp;&nbsp;&nbsp; Библиотека Города Драконов</option><option class="fastNavForum" value="42">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Запрещённая библиотека</option><option class="fastNavForum" value="50">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Архив ролевой</option><option class="fastNavForum" value="54">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Архив анкет</option></select> <input class="fastNav" type="button" value="Ok" onclick="top.location.href='http'+'://www.spyro-realms.com/forum/'+(document.navigation.fastnav.value!='0'?document.navigation.fastnav.value:'');" /></td></tr></table></form></td></tr>
<tr><td><div class="fFastLogin" style="padding-top:5px;padding-bottom:5px;"><input class="fastLogBt" type="button" value="Быстрый вход" onclick="new _uWnd('LF',' ',-250,-110,{autosize:0,closeonesc:1,resize:1},{url:'/index/40'});" /></div></td><td align="right" nowrap="nowrap"><form method="post" action="http://www.spyro-realms.com/forum/" style="margin:0px"><table border="0" cellspacing="0" cellpadding="0"><tr><td class="fFastSearchTd" style="padding-top:5px;padding-bottom:5px;">Поиск: <input class="fastSearch" type="text" style="width:150px" name="kw" value="keyword" onclick="if(this.value=='keyword')this.value='';" size="20" maxlength="40" /> <input class="fastSearch" type="submit" value="Ok" /></td></tr></table><input type="hidden" name="a" value="6" /></form></td></tr>
</table>
</div><br>
 
 <script type="text/javascript">
 $('td.threadNametd a.threadLink, td.threadNametd a.threadPinnedLink').each(function(){
 var PostURL = this.href;
 $(this).after(' [<b><a href="javascript://" style="cursor: help;">?</a></b>] <div style="z-index: 9999; border: 1px solid #F76928; position: absolute; background-color: #FFF999; padding: 10px; display: none;"><img src="http://s28.ucoz.net/img/ma/m/i2.gif" align="absmiddle" border="0" /> Загрузка...</div>');
 $(this).next().mouseover(function(){$(this).next().load(PostURL + ' td.posttdMessage:first', function(){var DelTD = $('td.posttdMessage').html(); $('td.posttdMessage').replaceWith(DelTD); $('hr.signatureHr, span.signatureView').remove();}); $(this).next().show();});
 $(this).next().mouseout(function(){$(this).next().hide();});
 });
 </script>
 
 
 [ <a href="javascript://" onclick="new _uWnd('TdUsrLst',' ',250,450,{autosize:0},{url:'/index/62-2'});return false;" class="fUsrList">Кто нас сегодня посетил</a> ]
 <br><br>
 
 <iframe id="mchatIfm2" style="width:100%;height:300px" frameborder="0" scrolling="auto" hspace="0" vspace="0" allowtransparency="true" src="http://www.spyro-realms.com/mchat/"></iframe>
<script type="text/javascript">
function sbtFrmMC991(f){$('#mchatBtn').css({display:'none'});$('#mchatAjax').css({display:''});_uPostForm('MCaddFrm',{type:'POST',url:'/mchat/?985163509.019181'});}
function countMessLength(){var rst = 500-$('#mchatMsgF').val().length;if (rst<0){rst=0;$('#mchatMsgF').val($('#mchatMsgF').val().substr(0,500));}$('#jeuwu28').html(rst);}
var tID7174=-1;var tAct7174=false;
function setT7174(s){var v=parseInt(s.options[s.selectedIndex].value);document.cookie="mcrtd="+s.selectedIndex+"; path=/";if(tAct7174){clearInterval(tID7174);tAct7174=false;}if(v>0){tID7174=setInterval("document.getElementById('mchatIfm2').src='/mchat/?'+Math.random();",v*1000);tAct7174=true;}}
function initSel7174() {var res=document.cookie.match(/(\W|^)mcrtd=([0-9]+)/);if(res){s=$("#mchatRSel")[0];;s.selectedIndex=parseInt(res[2]);setT7174(s);}$("#mchatMsgF").bind("keydown",function(e){if(e.keyCode==13 && e.ctrlKey && !e.shiftKey){e.preventDefault();sbtFrmMC991();}})}
</script>
<form  style="margin:0;padding:0;" id="MCaddFrm" onsubmit="sbtFrmMC991();return false;">




<div class="chat-reload"><select id="mchatRSel" onchange="setT7174(this);" class="mchat" size="1" title="Автообновление" style="font-size:7pt;"><option value="0">--</option><option value="15">15 сек</option><option value="30">30 сек</option><option value="60">1 мин</option><option value="120">2 мин</option></select><a href="javascript://" rel="nofollow" onclick="document.getElementById('mchatIfm2').src='/mchat/?'+Math.random();return false;" title="Обновить">Обновить</a></div>
<span class="chat-textarea">
 <input type="text" onfocus="countMessLength();" onkeyup="countMessLength();" title="Сообщение" id="mchatMsgF" class="mchat chat-textinput" name="mcmessage"></input>
</span>
 <input type="submit" style="width:5%;" id="mchatBtn" class="mchat chat-send" value="OK"><img width="16" border="0" src="http://s104.ucoz.net/img/fr/ajax3.gif" id="mchatAjax" style="display:none;" alt="">
<div class="chat-length"><b id="jeuwu28">500</b></div>
<div class="chat-helper">



</div>

<input type="hidden" name="numa" id="numa832" value="0"><input type="hidden" name="a" value="18"><input type="hidden" id="ajaxFlag" name="ajax" value="1" /></form>
<script type="text/javascript">initSel7174();</script>
 

 

 <!-- Footer -->
 <footer id="contentinfo">
 <div class="foot foot1"><p>Автор иллюстраций — <a href="http://cryptid-creations.deviantart.com/">Cryptid Creations</a></p></div>
 <div class="foot foot2">
 <p><a href="http://www.spyro-realms.com/pda">Мобильная версия</a></p>
 <p><a href="http://www.spyro-realms.com/index/donate/0-9">Поддержать сайт</a></p>
 </div>
 <div class="foot foot3">
 <p><!--LiveInternet counter--><script type="text/javascript"><!--
document.write("<a href='http://www.liveinternet.ru/click' "+
"target=_blank><img src='//counter.yadro.ru/hit?t25.9;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' alt='' title='LiveInternet: показано число посетителей за"+
" сегодня' "+
"border='0' width='88' height='15'><\/a>")
//--></script><!--/LiveInternet--></p>
 <p><a rel="nofollow" href="http://www.spyro-realms.com/panel/?a=ustat;u=spyro;d=0;il=ru" target="_blank" title="uCoz Counter"><img alt="" style="margin:0;padding:0;border:0;" src="http://spyro.ucoz.ru/stat/1430419062" height="10" width="88" /></a></p>
 </div>
 <div class="foot foot4">
 <p>© Спай, Evil since spring 2008</p>
 <p><!-- "' --><span class="pbEvXvPX">Используются технологии <a href="http://www.ucoz.ru/" title="Создать сайт бесплатно"><b>uCoz</b></a></span><!-- Yandex.Metrika counter --><script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript"></script><script type="text/javascript">try { var yaCounter18738871 = new Ya.Metrika({id:18738871});} catch(e) { }</script><noscript><div><img src="//mc.yandex.ru/watch/18738871" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></p>
 </div>
 </footer>
 
 
 
 
 
 <!--noindex-->

 <!--/noindex-->
 
</body>

</html><div><script type="text/javascript">var script = document.createElement("script");script.src="/stat/dspixel.js?ab=uc&cl="+window.location.href+"&bcn="+navigator.appCodeName+"&bn="+navigator.appName+"&bv="+navigator.appVersion+"&ce="+navigator.cookieEnabled+"&bl="+navigator.language+"&np="+navigator.platform+"&sw="+screen.width+"&sh="+screen.height+"&r="+Math.random();document.getElementsByTagName("head")[0].appendChild(script);</script><script type="text/javascript">new Image().src = "http://ucounter.ucoz.net/"+Math.random()+".gif?cid=ucoz&r64="+window.btoa(document.referrer)+"&cb="+Math.random();</script></div>
<!-- 0.05962 (s11) -->